/*
Navicat MySQL Data Transfer

Source Server         : localhost
Source Server Version : 50713
Source Host           : localhost:3306
Source Database       : db_blog

Target Server Type    : MYSQL
Target Server Version : 50713
File Encoding         : 65001

Date: 2016-07-21 17:14:54
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for t_blog
-- ----------------------------
DROP TABLE IF EXISTS `t_blog`;
CREATE TABLE `t_blog` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(200) DEFAULT NULL,
  `summary` varchar(400) DEFAULT NULL,
  `releaseDate` datetime DEFAULT NULL,
  `clickHit` int(11) DEFAULT NULL,
  `replyHit` int(11) DEFAULT NULL,
  `content` longtext,
  `typeId` int(11) DEFAULT NULL,
  `keyWord` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `typeId` (`typeId`),
  CONSTRAINT `t_blog_ibfk_1` FOREIGN KEY (`typeId`) REFERENCES `t_blogtype` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=74 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of t_blog
-- ----------------------------
INSERT INTO `t_blog` VALUES ('39', 'Java HelloWorld实现', ' 第一个博客，当然从HelloWorld 开发，主要测试下 百度ueditor的代码高亮效果如何。下面上代码：package com.java1234.demo;/** * 测试 * @author Administrator * */public class HelloWorld {	public stat', '2016-02-02 10:00:42', '283', '18', '<p><img src=\"http://img.baidu.com/hi/jx2/j_0013.gif\"/> 第一个博客，当然从HelloWorld 开发，主要测试下 百度ueditor的代码高亮效果如何。</p><p><br/></p><p>下面上代码：</p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.demo;\n\n/**\n&nbsp;*&nbsp;测试\n&nbsp;*&nbsp;@author&nbsp;Administrator\n&nbsp;*\n&nbsp;*/\npublic&nbsp;class&nbsp;HelloWorld&nbsp;{\n\n	public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{\n		System.out.println(&quot;Hello&nbsp;World，屌炸天！&quot;);\n	}\n}</pre><p><br/></p><p>代码高亮还算凑合，如果加上 复制代码功能，会更好点；</p><p><br/></p><p>运行效果如下：</p><p><img src=\"/static/userImages/20160202/1454378386640040323.jpg\" title=\"1454378386640040323.jpg\" alt=\"QQ鎴浘20160202095931.jpg\"/></p><p><br/></p><p><br/></p><p>这个图我是直接用百度ueditor直接截图的，很方便。这个是我选用百度ueditor在线编辑器的一个重要原因。</p><p><br/></p><p><br/></p>', '1', 'java');
INSERT INTO `t_blog` VALUES ('40', '大学必须掌握的软件基础课程', ' 大学软件专业有很多课程，有些学生搞不清哪些是重点，以下是笔者根据多年经验，认真很重要的课程罗列下：1，C语言  很重要，作为学编程的入门语言，也是众多流行编程语言之父。2，数据结构和算法很重要，以后深入理解一些东西有帮助，即使是Java把很多数据结构都进行了封装，但是学习本课程，可以对性能有深入理解；3，计', '2016-02-02 12:41:52', '325', '9', '<p><img src=\"http://img.baidu.com/hi/jx2/j_0013.gif\"/>&nbsp;大学软件专业有很多课程，有些学生搞不清哪些是重点，以下是笔者根据多年经验，认真很重要的课程罗列下：</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>1，C语言 &nbsp;</strong></span></p><p>很重要，作为学编程的入门语言，也是众多流行编程语言之父。</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>2，数据结构和算法</strong></span></p><p>很重要，以后深入理解一些东西有帮助，即使是Java把很多数据结构都进行了封装，但是学习本课程，可以对性能有深入理解；</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>3，计算机组成原理</strong></span></p><p>一般，学习一下；</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>4，编译原理</strong></span></p><p>一般，学习一下；</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>5，数据库原理</strong></span></p><p>很重要，对以后系统的数据库设计有帮助，站的层次高；</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>6，操作系统原理</strong></span></p><p>很重要，对以后技术提供，和层次有帮助；</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>7，计算机网络</strong></span></p><p>一般，学习一下；</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>8，软件工程</strong></span></p><p>非常重要，对整个软件开发体系的熟悉，直接可以影响到一个技术人员的职业生涯；</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>9，计算机英语</strong></span></p><p>非常重要，有一些屌丝不重视，这个真的很重要，以后学习一些新技术的时候，有时候中文资源比较少，这时候学习，基本是直接看官方英文文档，假如英语不行，会很苦逼；</p><p><br/></p><p><strong><span style=\"color: rgb(255, 0, 0);\">10，英语</span></strong></p><p>非常重要，这个和上面的计算机英语有区别，计算机英语主要是一些专业词汇的中文专业翻译；而英语的话，是更加广泛的概念，最少要达到4级，最好6级。大学时候通读基本英文技术书籍，我推荐 Head First系列，以及Thining in Java；</p><p><br/></p><p>以上是我认为比较重要的10个课程。大家可以参考下。。可以有遗漏，大家可以评论留言。讨论交流。</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\"><strong><br/></strong></span></p>', '4', '大学');
INSERT INTO `t_blog` VALUES ('41', '大学里应该掌握的两个能力', '  根据我的经验，我总结了下，大学里掌握以下两种，毕业的时候，用人单位比较喜欢；第一种能力，自学能力；所谓自学能力，顾名思义，就是自我学习知识，技术的能力，这种能力，人与人之间的差距有大，就像有的人毕业能拿13K，有的人只能拿3K；这种能力如何培养呢？根据我的经验，没有捷径，就是多读书，多思考，多实践，还有就', '2016-02-02 13:14:53', '318', '8', '<p><img src=\"http://img.baidu.com/hi/jx2/j_0003.gif\"/> &nbsp;根据我的经验，我总结了下，大学里掌握以下两种，毕业的时候，用人单位比较喜欢；</p><p><br/></p><p><strong><span style=\"color: rgb(255, 0, 0);\">第一种能力，自学能力；</span></strong></p><p>所谓自学能力，顾名思义，就是自我学习知识，技术的能力，这种能力，人与人之间的差距有大，就像有的人毕业能拿13K，有的人只能拿3K；</p><p>这种能力如何培养呢？</p><p>根据我的经验，没有捷径，就是多读书，多思考，多实践，还有就是稍微多做点笔记，多总结；</p><p>很多人自学能力差，大多数原因不是笨，是读书少，见识少。读书少，基础差，想学点新东西都吃力，底子问题；</p><p>学习方法方面，我有些心得；</p><p>有些二货拿到书，直接从头读到尾，而且不允许自己有遗漏，这个是一种效率很底下的学习方法；</p><p>我的建议如下：</p><p>第一：拿到一本书，先自己想想，是不是自己需要的书，网上多查查，这本书好不好，书的人写的，作者有牛逼的，也有比较渣；</p><p>第二：决定看一本书的时候，一定要先看目录大纲，把目录好好看看，这本书讲啥，章节的划分；然后脑海里有大体映像之后，再看具体章节；说简单点，就是先总后分；</p><p>第三：学习的时候，一定要做笔记，写总结；这样才会有提高；最好是写到自己的博客里；</p><p><br/></p><p><br/></p><p><strong><span style=\"color: rgb(255, 0, 0);\">第二种能力，分析问题和解决问题的能力；</span></strong></p><p>第二种能力，很关键，尤其是搞开发的人，这种能力直接关系到自己的前途；</p><p>比如组长或者项目经理给你一个需求，让你开发出来，我举个具体的例子，组长让你开发一个功能，从数据库取数据库，生成word，并且导出；</p><p>有些人一看这功能，顿时晕了，自己没搞过，老师没教过。无从下手。顿时感觉人生好迷茫；</p><p>这时候就是体现一个人分析问题和解决问题的能力了；</p><p>正常分析过程是这样的，首先是查询数据，然后生成一个word，页面请求，返回word文件流；这里涉及到生成word，可以通过百度关键字 java生成word；</p><p>可以看到有很多的技术方案，这时候，你再百度具体的方案的比较，当然也可以论坛，群里交流。比如velocity freemarker；找到方案后，就是学习这个技术，</p><p>这个就是上面的自学能力的体现，如何快速入门掌握，当然，这种简单的技术，直接搞点demo，运行下，很容易上手；不需要看书；</p><p>如何这种培养能力呢？</p><p>没有捷径，就是要多读书，多学习，多思考，以及最重要，多实践，多搞点小项目，搞的时候会遇到很多问题，设计问题，调试问题，技术方案问题等等；</p><p>遇到问题，解决问题。能力就是这样慢慢提高的。不是什么一下子就变成大神，除非你在做梦；<br/></p><p><br/></p><p><img src=\"http://img.baidu.com/hi/jx2/j_0013.gif\"/>加油吧。骚年们！</p><p><br/></p>', '4', '大学');
INSERT INTO `t_blog` VALUES ('42', 'Mysql中文乱码问题解决', '有些学员经常遇到 项目jdbc获取数据库数据，中文乱码；这里给出一些解决方案：第一种，修改Mysql数据库编码，改成utf-8，默认是latin1 （推荐）； 如图，找到mysql安装，点mysql实例配置  一直点next知道下面这个界面：记住，前面那个圈 一点要点。。下拉框选utf8继续next直到：写你', '2016-02-02 13:29:33', '194', '6', '<p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">有些学员经常遇到 项目jdbc获取数据库数据，中文乱码；</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><br/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">这里给出一些解决方案：</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><br/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><span style=\"color: rgb(255, 0, 0);\">第一种，修改Mysql数据库编码，改成utf-8，默认是latin1 （推荐）；</span></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><img alt=\"QQ鍥剧墖20160202132103.png\" src=\"/static/userImages/20160202/1454390480343030776.png\" title=\"1454390480343030776.png\"/> 如图，找到mysql安装，点mysql实例配置</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><br/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><img src=\"/static/userImages/20160202/1454390537171022264.jpg\" alt=\"1454390537171022264.jpg\"/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">&nbsp;</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">&nbsp;一直点next知道下面这个界面：</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><img alt=\"QQ鍥剧墖20160202132310.png\" src=\"/static/userImages/20160202/1454390616812058607.png\" title=\"1454390616812058607.png\"/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">记住，前面那个圈 一点要点。。下拉框选utf8</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><br/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">继续next直到：</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><img alt=\"QQ鍥剧墖20160202132431.png\" src=\"/static/userImages/20160202/1454390692687028654.png\" title=\"1454390692687028654.png\"/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">写你原来的密码继续，然后继续Next:</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><img alt=\"QQ鍥剧墖20160202132517.png\" src=\"/static/userImages/20160202/1454390731515038389.png\" title=\"1454390731515038389.png\"/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">点击 执行</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><img alt=\"QQ鍥剧墖20160202132618.png\" src=\"/static/userImages/20160202/1454390793796097934.png\" title=\"1454390793796097934.png\"/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">这样就OK了；</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><br/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">这个执行完。记得要把原来导入的项目数据库删除，重新的导入下即可；<br/></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><br/><span style=\"color: rgb(255, 0, 0);\"></span></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\"><span style=\"color: rgb(255, 0, 0);\">第二种，修改jdbc请求url 指定编码 （不推荐）<br/></span></p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">在jdbc url后面 加上 ?useUnicode=true&amp;characterEncoding=UTF8 指定下编码；</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">假如是在xml配置文件里 要转义下 搞成 ?useUnicode=true&amp;amp;characterEncoding=UTF-8 ；</p><p style=\"margin: 5px 0px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;\">比如在spring配置文件里：</p><pre class=\"brush:xml;toolbar:false\">&lt;!--&nbsp;配置数据源&nbsp;--&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;bean&nbsp;id=&quot;dataSource&quot;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=&quot;url&quot;&nbsp;value=&quot;jdbc:mysql://localhost:3306/db_blog?useUnicode=true&amp;amp;characterEncoding=UTF-8&quot;/&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=&quot;username&quot;&nbsp;value=&quot;root&quot;/&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=&quot;password&quot;&nbsp;value=&quot;123456&quot;/&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/bean&gt;</pre><p><br/></p><p>推荐第一种；</p><p><br/></p>', '2', 'mysql 乱码');
INSERT INTO `t_blog` VALUES ('43', '解决Url带中文参数乱码问题', ' 这里我来介绍下如何配置Tomcat 来解决Url带中文参数乱码问题；首先打开Tomcat安装目录，以Tomcat7为例，其他版本基本一样；打开conf文件打开server.xml大概在70行左右的位置 我们加一个属性 URIEncoding=\"UTF-8\"搞成这样即可。。这个是发布项目的时候，配置方式。下面', '2016-01-22 13:38:39', '192', '2', '<p><img src=\"http://img.baidu.com/hi/jx2/j_0001.gif\"/> 这里我来介绍下如何配置Tomcat 来解决Url带中文参数乱码问题；</p><p><br/></p><p>首先打开Tomcat安装目录，以Tomcat7为例，其他版本基本一样；</p><p><img src=\"/static/userImages/20160202/1454391117593077429.jpg\" alt=\"1454391117593077429.jpg\"/></p><p><br/></p><p>打开conf文件</p><p><img src=\"/static/userImages/20160202/1454391166890014358.jpg\" alt=\"1454391166890014358.jpg\"/><br/></p><p><br/></p><p>打开server.xml</p><p><img src=\"/static/userImages/20160202/1454391299968024532.jpg\" alt=\"1454391299968024532.jpg\"/><br/></p><p><br/></p><p>大概在70行左右的位置 我们加一个属性 URIEncoding=&quot;UTF-8&quot;</p><p><br/></p><p><img src=\"/static/userImages/20160202/1454391361171014090.jpg\" alt=\"1454391361171014090.jpg\"/></p><p><br/></p><p>搞成这样即可。。这个是发布项目的时候，配置方式。</p><p><br/></p><p>下面介绍开发的时候，如何配置：</p><p>打开eclipse</p><p>找到server</p><p><img src=\"/static/userImages/20160202/1454391411687030232.jpg\" alt=\"1454391411687030232.jpg\"/><br/></p><p><br/></p><p>点开server.xml</p><p><img src=\"/static/userImages/20160202/1454391443968032571.jpg\" alt=\"1454391443968032571.jpg\"/><br/></p><p><br/></p><p>和刚才一样，加下 URIEncoding=&quot;UTF-8&quot; 这样就支持Url中文参数了；</p><p><br/></p><p>当然还有其他方法，比较麻烦。比如自己转码，过滤。这里就不介绍了。<br/></p>', '3', 'url中文参数');
INSERT INTO `t_blog` VALUES ('45', 'shiro介绍以及推荐视频教程', 'shiro是apache提供的强大而灵活的开源安全框架，它主要用来处理身份认证，授权，企业会话管理和加密。shiro功能：用户验证、用户执行访问权限控制、在任何环境下使用session API，如cs程序。可以使用多数据源如同时使用oracle、mysql。单点登录(sso)支持。remember me服务。', '2016-02-02 17:00:30', '364', '25', '<p>shiro是apache提供的强大而灵活的开源安全框架，它主要用来处理身份认证，授权，企业会话管理和加密。</p><p>shiro功能：用户验证、用户执行访问权限控制、在任何环境下使用session API，如cs程序。可以使用多数据源如同时使用oracle、mysql。单点登录(sso)支持。remember me服务。</p><p><br/></p><p>推荐视频教程 一头扎进shiro&nbsp;</p><p>课程目录：<span class=\"Apple-tab-span\" style=\"white-space: pre;\">	</span><a href=\"http://www.java1234.com/zy032.html\" target=\"_blank\" title=\"http://www.java1234.com/zy032.html\">http://www.java1234.com/zy032.html</a><span class=\"Apple-tab-span\" style=\"white-space: pre;\">	</span></p><p>百度云打包下载： &nbsp;<a href=\"http://pan.baidu.com/s/1ntEifgt\" target=\"_blank\" title=\"http://pan.baidu.com/s/1ntEifgt\">http://pan.baidu.com/s/1ntEifgt</a></p>', '7', 'shiro java');
INSERT INTO `t_blog` VALUES ('47', '什么是webservice?', '  webservice 有的人一看到这个，估计会认为这个是一种新技术，一种新框架。其实不是，严格的说，webservice是一种跨平台，跨语言的规范，用于不同平台，不同语言开发的应用之间的交互。  这里具体举个例子，比如在Windows Server服务器上有个C#.Net开发的应用A，在Linux上有个J', '2016-02-03 16:07:31', '306', '15', '<p>&nbsp; webservice 有的人一看到这个，估计会认为这个是一种新技术，一种新框架。<br/></p><p>其实不是，严格的说，webservice是一种跨平台，跨语言的规范，用于不同平台，不同语言开发的应用之间的交互。</p><p><br/></p><p>&nbsp; 这里具体举个例子，比如在Windows Server服务器上有个C#.Net开发的应用A，在Linux上有个Java语言开发的应用B，</p><p>B应用要调用A应用，或者是互相调用。用于查看对方的业务数据。</p><p>&nbsp; 再举个例子，天气预报接口。无数的应用需要获取天气预报信息；这些应用可能是各种平台，各种技术实现；而气象局的项目，估计也就一两种，要对外提供天气预报信息，这个时候，如何解决呢？</p><p><br/></p><p>&nbsp; webservice就是出于以上类似需求而定义出来的规范；</p><p>&nbsp;&nbsp;</p><p>&nbsp; 开发人员一般就是在具体平台开发webservice接口，以及调用webservice接口；每种开发语言都有自己的webservice实现框架。比如Java 就有&nbsp;Apache Axis1、Apache Axis2、Codehaus XFire、Apache CXF、Apache Wink、Jboss &nbsp;RESTEasyd等等...</p><p><br/></p><p><img src=\"/static/userImages/20160203/1454486847949023678.jpg\" title=\"1454486847949023678.jpg\" alt=\"20131203094415-1061627437.jpg\"/></p><p><br/></p><p><br/></p><p>&nbsp;&nbsp;</p>', '9', 'webservice java');
INSERT INTO `t_blog` VALUES ('48', '百度云资源，是程序员们的发家致富一块肥肉', '  百度云在前两年的“云大战”中，最终获胜，当年各种云盘，相互厮杀，有技术方面的，有公关方面的原因，最终还是百度云大获全胜；  百度云经过几年的发展，逐渐成熟，性能稳定。开始的时候是不考虑盈利的，无广告。一直花钱投入，立志把这个云技术项目做好。时间证明了一切，百度云是一个优秀的，用户量最大的，资源最多，并且处', '2016-02-04 18:49:15', '889', '18', '<p>&nbsp; 百度云在前两年的“云大战”中，最终获胜，当年各种云盘，相互厮杀，有技术方面的，有公关方面的原因，最终还是百度云大获全胜；</p><p>&nbsp; 百度云经过几年的发展，逐渐成熟，性能稳定。开始的时候是不考虑盈利的，无广告。一直花钱投入，立志把这个云技术项目做好。时间证明了一切，百度云是一个优秀的，用户量最大的，资源最多，</p><p>并且处理违法信息的手段都是成熟的。</p><p>&nbsp; 大家看了标题也许有疑问，“百度云资源，是程序员们的发家致富一块肥肉” 根本原因是百度云拥有海量的用户分享的资源， 但为什么是程序员的肥肉呢。据本人观察，中国至少有500家网站吃到百度云这块肥肉，一种一家就是我，<a href=\"http://pan.java1234.com/\" target=\"_blank\" title=\"http://pan.java1234.com/\">http://pan.java1234.com/</a></p><p>我这个项目，主要是利用谷歌自定义搜索，来搜索用户需要的资源。日IP 2万左右，但是钱赚得不多。</p><p>&nbsp;下面我来谈谈如何利用百度云来赚钱，这里只针对程序员，因为只有程序员有技术来实现。说简单点，就是百度云的海量资源，程序员们可以看作是海量的页面，可以拿过来，搞成自己的资源页面。这样自己搞的站点，就拥有了海量的页面，只要seo搞得还行，一天搞个几万个流量，甚至几十万流量都没问题。然后挂google广告，百度联盟广告，我看到过类似网站，成功申请到谷歌广告，百度联盟广告的。</p><p>&nbsp;这块蛋糕，以后肯定会被越来越多的程序员看重，并且分享。但是我个人觉得，这块蛋糕非常大，大得我估计能养活10万个程序员。<img src=\"http://img.baidu.com/hi/jx2/j_0005.gif\"/> 当然有些人觉得我吹牛逼，其实我说的还是保守的值。</p><p>&nbsp;下面我来分析下，如何来搞这个项目 要用到哪些技术，传统的php ,asp.net,jsp 都可以来实现这项目。我自己也去看了人家的实现，核心的是采集技术，怎么个采集法呢，不是随便瞎搞的，一条比较好的方法是先去采集百度云分享达人的帐号，然后挨个的采集他们的分享资源。就是搞这个项目，说实话，要花不少时间，就是在采集资源这块。我估计有不少程序员是全职搞这个项目的，我上次看到几个，根据流量和广告。我估计他们一个月至少有2，3万。流量很大。采集到数据后，然后就是显示，这个再简单不过了。作为程序员，如果连这个都不会，那只能称技术员了。</p><p>&nbsp;&nbsp;</p><p>&nbsp; 好了，今天就把这个牛逼蛋糕介绍到这里，希望大家看到我这个文章，假如技术上满足条件，可以试着业余先搞搞。或许你从此屌炸天了。</p><p><br/></p><p><img src=\"/static/userImages/20160204/1454582940339078791.jpg\" title=\"1454582940339078791.jpg\" alt=\"QQ鎴浘20160204184853.jpg\"/></p><p><br/></p><p><br/></p>', '4', '百度云 赚钱');
INSERT INTO `t_blog` VALUES ('50', '使用Jsoup解析出html中的img元素', 'jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。博客项目有个需求。展示博客列表的时候，显示一些博客里的图片，增强用户体验；这里的话，有两种方案，第一种 是在后台处理，把', '2016-02-14 12:52:43', '174', '6', '<p><span style=\"color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; line-height: 24px; text-indent: 28px; background-color: rgb(255, 255, 255);\">jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。</span></p><p><img src=\"/static/userImages/20160214/1455425736515085353.jpg\" title=\"1455425736515085353.jpg\" alt=\"QQ鎴浘20160214125257.jpg\"/></p><p><span style=\"color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; line-height: 24px; text-indent: 28px; background-color: rgb(255, 255, 255);\"><br/></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; line-height: 24px; text-indent: 28px; background-color: rgb(255, 255, 255);\">博客项目有个需求。展示博客列表的时候，显示一些博客里的图片，增强用户体验；</span></p><p>这里的话，有两种方案，第一种 是在后台处理，把解析好的图片存集合里，然后转发到页面，遍历显示；还有一种是把博客内容送到页面，用Jquery处理。</p><p>我考虑了下。还是在后台处理好比较好，因为项目本身用到了 cnd加速，所以在前端处理反而影响效率。</p><p>在后端处理，可以使用Jsoup，很方便；</p><p><br/></p><p>Jsoup主页：<a href=\"http://jsoup.org/\" target=\"_blank\" title=\"http://jsoup.org/\">http://jsoup.org/</a></p><p><br/></p><p>maven地址：</p><pre class=\"brush:xml;toolbar:false\">&lt;dependency&gt;\n		&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n		&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n		&lt;version&gt;1.8.3&lt;/version&gt;\n	&lt;/dependency&gt;</pre><p><br/></p><p><br/></p><p>这里给下关键代码：</p><pre class=\"brush:java;toolbar:false\">for(Blog&nbsp;blog:blogList){\n			List&lt;String&gt;&nbsp;imagesList=blog.getImagesList();\n			String&nbsp;blogInfo=blog.getContent();\n			Document&nbsp;doc=Jsoup.parse(blogInfo);\n			Elements&nbsp;jpgs=doc.select(&quot;img[src$=.jpg]&quot;);&nbsp;//　查找扩展名是jpg的图片\n			for(int&nbsp;i=0;i&lt;jpgs.size();i++){\n				Element&nbsp;jpg=jpgs.get(i);\n				imagesList.add(jpg.toString());\n				if(i==2){\n					break;\n				}\n			}\n		}</pre><p><br/></p><p>主要涉及到一些选择器。不难。大家可以参考下官方文档。或者百度很容易上手。</p><p><br/></p>', '10', 'jsoup java');
INSERT INTO `t_blog` VALUES ('51', '使用CXF开发WebService服务器端接口', 'CXF作为java领域主流的WebService实现框架，Java程序员有必要掌握它。CXF主页：http://cxf.apache.org/简介：百度百科今天的话，主要是用CXF来开发下WebService服务器端接口，明天写下开发客户端接口；这里用Maven。首先建一个Maven的j2se项目；项目的jr', '2016-02-14 20:46:04', '199', '1', '<p><br/>CXF作为java领域主流的WebService实现框架，Java程序员有必要掌握它。</p><p><br/></p><p>CXF主页：<a href=\"http://cxf.apache.org/\" target=\"_blank\" title=\"http://cxf.apache.org/\">http://cxf.apache.org/</a></p><p><br/></p><p>简介：<a href=\"http://baike.baidu.com/link?url=DSx84NVH4yZmYVYOiyFVucRScx5i1rXy5VH6N8VgLygZwkybqL1RVAISqgmWXt-pycDsWVTfydkOowd1ysGxGq\" target=\"_blank\" title=\"http://baike.baidu.com/link?url=DSx84NVH4yZmYVYOiyFVucRScx5i1rXy5VH6N8VgLygZwkybqL1RVAISqgmWXt-pycDsWVTfydkOowd1ysGxGq\">百度百科</a></p><p><br/></p><p>今天的话，主要是用CXF来开发下WebService服务器端接口，明天写下开发客户端接口；</p><p><br/></p><p>这里用Maven。<br/></p><p><br/></p><p>首先建一个Maven的j2se项目；<br/></p><p><img src=\"/static/userImages/20160214/1455452546687063197.jpg\" title=\"1455452546687063197.jpg\" alt=\"QQ鎴浘20160214201912.jpg\"/></p><p><br/></p><p>项目的jre用1.7，因为1.7有webservice的默认实现。不要用1.5 不然下面你用我的代码会有问题，用1.5的话，还需要另外加jar包，这里为了大家省事，要换成1.7;</p><p><img src=\"/static/userImages/20160214/1455452618468053349.jpg\" title=\"1455452618468053349.jpg\" alt=\"QQ鎴浘20160214201936.jpg\"/></p><p><br/></p><p><br/></p><p>根据规范，我们先建一个接口类：HelloWorld</p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.webservice;\n\nimport&nbsp;javax.jws.WebService;\n\n@WebService\npublic&nbsp;interface&nbsp;HelloWorld&nbsp;{\n\n	public&nbsp;String&nbsp;say(String&nbsp;str);\n}</pre><p><br/></p><p>再建一个具体的实现类：HelloWorldImpl</p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.webservice.impl;\n\nimport&nbsp;javax.jws.WebService;\n\nimport&nbsp;com.java1234.webservice.HelloWorld;\n\n@WebService\npublic&nbsp;class&nbsp;HelloWorldImpl&nbsp;implements&nbsp;HelloWorld{\n\n	public&nbsp;String&nbsp;say(String&nbsp;str)&nbsp;{\n		return&nbsp;&quot;Hello&nbsp;&quot;+str;\n	}\n\n}</pre><p><br/></p><p>最后建一个发布服务的主类：Server<br/></p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.webservice;\n\n\nimport&nbsp;javax.xml.ws.Endpoint;\n\nimport&nbsp;com.java1234.webservice.impl.HelloWorldImpl;\n\npublic&nbsp;class&nbsp;Server&nbsp;{\n\n	public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{\n		System.out.println(&quot;web&nbsp;service&nbsp;start&quot;);&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HelloWorld&nbsp;implementor&nbsp;=&nbsp;new&nbsp;HelloWorldImpl();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;address&nbsp;=&nbsp;&quot;http://192.168.1.103/helloWorld&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Endpoint.publish(address,&nbsp;implementor);&nbsp;&nbsp;//&nbsp;JDK实现\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;web&nbsp;service&nbsp;started&quot;);&nbsp;&nbsp;\n	}\n}</pre><p><br/></p><p>这里的Endpoint是Jdk自身实现的WebService。所以到这里我们不需要用到CXF的任何东西。</p><p>这里的address，写上自己的本机IP</p><p>我们运行下Server类：</p><p>运行效果如下：<br/></p><p><img src=\"/static/userImages/20160214/1455452954968056097.jpg\" title=\"1455452954968056097.jpg\" alt=\"QQ鎴浘20160214202633.jpg\"/></p><p><br/></p><p>我们在浏览器里访问：<a href=\"http://192.168.1.103/helloWorld?wsdl\" _src=\"http://192.168.1.103/helloWorld?wsdl\">http://192.168.1.103/helloWorld?wsdl</a> </p><p><br/></p><p>效果：<br/></p><p><img src=\"/static/userImages/20160214/1455453073062071044.jpg\" title=\"1455453073062071044.jpg\" alt=\"QQ鎴浘20160214202817.jpg\"/></p><p><br/></p><p>说明已经成功调用了webservice接口；</p><p><br/></p><p>这里的wsdl 是&nbsp;Web Services Description Language的缩写，是一个用来描述Web服务和说明如何与Web服务通信的XML语言。WSDL是Web Service的描述语言，用于描述Web Service的服务，接口绑定等，为用户提供详细的接口说明书。</p><p><br/></p><p>请求后得到的是一个xml规范文档。是一套规范，后面会具体介绍，任何语言平台技术都可以解析。</p><p><br/></p><p><br/></p><p><br/></p><p>下面我们介绍使用CXF来实现webservice接口：</p><p>我们先在pom.xml中加入：<br/></p><pre class=\"brush:xml;toolbar:false\">&lt;dependency&gt;\n		&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n		&lt;artifactId&gt;cxf-core&lt;/artifactId&gt;\n		&lt;version&gt;3.1.5&lt;/version&gt;\n	&lt;/dependency&gt;\n	\n	&lt;dependency&gt;\n		&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n		&lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n		&lt;version&gt;3.1.5&lt;/version&gt;\n	&lt;/dependency&gt;\n	\n	&lt;dependency&gt;\n		&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n		&lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\n		&lt;version&gt;3.1.5&lt;/version&gt;\n	&lt;/dependency&gt;</pre><p><br/></p><p>这里要额外加入jetty，作为webservice发布的服务器。jetty是一个内嵌的web服务器；</p><p><br/></p><p><img src=\"/static/userImages/20160214/1455453479984038162.jpg\" title=\"1455453479984038162.jpg\" alt=\"QQ鎴浘20160214203514.jpg\"/></p><p><br/></p><p>我们把Server改下。换成CXF实现：<br/></p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.webservice;\n\n\nimport&nbsp;org.apache.cxf.jaxws.JaxWsServerFactoryBean;\n\nimport&nbsp;com.java1234.webservice.impl.HelloWorldImpl;\n\npublic&nbsp;class&nbsp;Server&nbsp;{\n\n	public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{\n		System.out.println(&quot;web&nbsp;service&nbsp;start&quot;);&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HelloWorld&nbsp;implementor&nbsp;=&nbsp;new&nbsp;HelloWorldImpl();&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;address&nbsp;=&nbsp;&quot;http://192.168.1.103/helloWorld&quot;;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Endpoint.publish(address,&nbsp;implementor);&nbsp;&nbsp;//&nbsp;JDK实现\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JaxWsServerFactoryBean&nbsp;factoryBean&nbsp;=&nbsp;new&nbsp;JaxWsServerFactoryBean();\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factoryBean.setAddress(address);&nbsp;//&nbsp;设置暴露地址\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factoryBean.setServiceClass(HelloWorld.class);&nbsp;//&nbsp;接口类\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factoryBean.setServiceBean(implementor);&nbsp;//&nbsp;设置实现类\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factoryBean.create();		\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;web&nbsp;service&nbsp;started&quot;);&nbsp;&nbsp;\n	}\n}</pre><p><br/></p><p>运行效果和刚才一样，这里就不再重复；</p><p><br/></p><p>完整源码下载：<a href=\"http://pan.baidu.com/s/1jHwGLF4\" target=\"_blank\" title=\"http://pan.baidu.com/s/1jHwGLF4\">http://pan.baidu.com/s/1jHwGLF4</a> </p><p><br/></p>', '9', 'webservice cxf java');
INSERT INTO `t_blog` VALUES ('52', '使用CXF开发WebService客户端', '前面一讲开发了webservice服务器端接口，今天的话，我们来开发webservice客户端，让大家来体验下过程；首先建一个Maven项目，项目名字，WS_Client；然后我们要用CXF给我们提供的工具wsdl2java 来根据请求的url生成客户端代码；wsdl2java工具在CXF开发包里；开发下载地', '2016-02-15 21:06:30', '224', '6', '<p>前面一讲开发了webservice服务器端接口，今天的话，我们来开发webservice客户端，让大家来体验下过程；</p><p><br/></p><p>首先建一个Maven项目，项目名字，WS_Client；</p><p><img src=\"/static/userImages/20160215/1455539511890048174.jpg\" alt=\"1455539511890048174.jpg\"/><br/></p><p><br/></p><p>然后我们要用CXF给我们提供的工具wsdl2java 来根据请求的url生成客户端代码；</p><p><br/></p><p>wsdl2java工具在CXF开发包里；</p><p>开发下载地址：<a title=\"http://cxf.apache.org/download.html\" target=\"_blank\" href=\"http://cxf.apache.org/download.html\">http://cxf.apache.org/download.html</a></p><p><img alt=\"QQ鎴浘20160215203213.jpg\" src=\"/static/userImages/20160215/1455539700734093102.jpg\" title=\"1455539700734093102.jpg\" width=\"667\" height=\"264\" style=\"width: 667px; height: 264px;\"/></p><p><br/></p><p>下载二进制包，然后解压到D盘 <br/></p><p><img alt=\"QQ鎴浘20160215203317.jpg\" src=\"/static/userImages/20160215/1455539761187019902.jpg\" title=\"1455539761187019902.jpg\"/></p><p><br/></p><p>这里我们看到了wsdl2java命令；当然要用的话，还得配置Path。我们打开环境变量配置，加入路径 D:\\apache-cxf-3.1.5\\bin&nbsp; 可能你的和我不一样；</p><p><img src=\"/static/userImages/20160215/1455539844625087079.jpg\" alt=\"1455539844625087079.jpg\"/><br/></p><p><br/></p><p>现在我们要干的事是在我们项目里生成我们需要的webservice客户端代码，</p><p>我们找到项目的本地路径，</p><p><img alt=\"QQ鎴浘20160215203622.jpg\" src=\"/static/userImages/20160215/1455539950421090821.jpg\" title=\"1455539950421090821.jpg\"/></p><p><br/></p><p>我的地址是：D:\\workspace\\WS_Client\\src\\main\\java 你们的可能和我不一样：</p><p><br/></p><p>然后我们进入dos，进入上面的本地硬盘地址，然后执行命令：wsdl2java&nbsp;<a href=\"http://192.168.1.103/helloWorld?wsdl\" _src=\"http://192.168.1.103/helloWorld?wsdl\">http://192.168.1.103/helloWorld?wsdl</a> </p><p><img src=\"/static/userImages/20160215/1455542517421041234.jpg\" title=\"1455542517421041234.jpg\" alt=\"QQ鎴浘20160215211824.jpg\"/></p><p><br/></p><p>这样就完成了代码的生成，我们刷新下工程：</p><p><img src=\"/static/userImages/20160215/1455542567125006252.jpg\" title=\"1455542567125006252.jpg\" alt=\"QQ鎴浘20160215212002.jpg\"/></p><p><br/></p><p>最关键的代码是HelloWorldService.java 我们下面写请求主类要用到；</p><p><br/></p><p><br/></p><p>我们下面写下主类 Client ，自己建下：</p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.webservice;\n\npublic&nbsp;class&nbsp;Client&nbsp;{\n\n	public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{\n		HelloWorldService&nbsp;service=new&nbsp;HelloWorldService();\n		HelloWorld&nbsp;helloWorld=service.getHelloWorldPort();\n		System.out.println(helloWorld.say(&quot;java1234_小锋&quot;));\n	}\n}</pre><p><br/></p><p>运行如下：</p><p><img src=\"/static/userImages/20160215/1455542695984058850.jpg\" title=\"1455542695984058850.jpg\" alt=\"QQ鎴浘20160215212217.jpg\"/></p><p><br/></p><p>说明我们成功调用了webservice服务器端的接口。</p><p><br/></p><p>完整代码：<a href=\"http://pan.baidu.com/s/1gebOAR5\" target=\"_blank\" title=\"http://pan.baidu.com/s/1gebOAR5\">http://pan.baidu.com/s/1gebOAR5</a></p>', '9', 'webservice cxf');
INSERT INTO `t_blog` VALUES ('53', 'CXF处理JavaBean以及复合类型', '前面讲的是处理简单类型，今天这里来讲下CXF处理JavaBean以及复合类型，比如集合；这里实例是客户端传一个JavaBean，服务器端返回集合类型；在原来的项目实例基础上，我们先创建一个实体类User:package com.java1234.entity;/** * 用户实体类 * @author Adm', '2016-02-18 10:31:19', '119', '8', '<p>前面讲的是处理简单类型，今天这里来讲下CXF处理JavaBean以及复合类型，比如集合；</p><p><br/></p><p>这里实例是客户端传一个JavaBean，服务器端返回集合类型；</p><p><br/></p><p>在原来的项目实例基础上，我们先创建一个实体类User:<br/></p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.entity;\n\n/**\n&nbsp;*&nbsp;用户实体类\n&nbsp;*&nbsp;@author&nbsp;Administrator\n&nbsp;*\n&nbsp;*/\npublic&nbsp;class&nbsp;User&nbsp;{\n\n	private&nbsp;Integer&nbsp;id;&nbsp;//&nbsp;编号\n	private&nbsp;String&nbsp;userName;&nbsp;//&nbsp;用户名\n	private&nbsp;String&nbsp;password;&nbsp;//&nbsp;密码\n	\n	public&nbsp;Integer&nbsp;getId()&nbsp;{\n		return&nbsp;id;\n	}\n	public&nbsp;void&nbsp;setId(Integer&nbsp;id)&nbsp;{\n		this.id&nbsp;=&nbsp;id;\n	}\n	public&nbsp;String&nbsp;getUserName()&nbsp;{\n		return&nbsp;userName;\n	}\n	public&nbsp;void&nbsp;setUserName(String&nbsp;userName)&nbsp;{\n		this.userName&nbsp;=&nbsp;userName;\n	}\n	public&nbsp;String&nbsp;getPassword()&nbsp;{\n		return&nbsp;password;\n	}\n	public&nbsp;void&nbsp;setPassword(String&nbsp;password)&nbsp;{\n		this.password&nbsp;=&nbsp;password;\n	}\n	\n	\n}</pre><p><br/></p><p>再创建一个Role实体类：</p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.entity;\n\n/**\n&nbsp;*&nbsp;角色实体\n&nbsp;*&nbsp;@author&nbsp;Administrator\n&nbsp;*\n&nbsp;*/\npublic&nbsp;class&nbsp;Role&nbsp;{\n\n	private&nbsp;Integer&nbsp;id;&nbsp;//&nbsp;编号\n	private&nbsp;String&nbsp;roleName;&nbsp;//&nbsp;角色名称\n	\n	\n	\n	public&nbsp;Role()&nbsp;{\n		super();\n		//&nbsp;TODO&nbsp;Auto-generated&nbsp;constructor&nbsp;stub\n	}\n	\n	\n	\n	public&nbsp;Role(Integer&nbsp;id,&nbsp;String&nbsp;roleName)&nbsp;{\n		super();\n		this.id&nbsp;=&nbsp;id;\n		this.roleName&nbsp;=&nbsp;roleName;\n	}\n\n\n\n	public&nbsp;Integer&nbsp;getId()&nbsp;{\n		return&nbsp;id;\n	}\n	public&nbsp;void&nbsp;setId(Integer&nbsp;id)&nbsp;{\n		this.id&nbsp;=&nbsp;id;\n	}\n	public&nbsp;String&nbsp;getRoleName()&nbsp;{\n		return&nbsp;roleName;\n	}\n	public&nbsp;void&nbsp;setRoleName(String&nbsp;roleName)&nbsp;{\n		this.roleName&nbsp;=&nbsp;roleName;\n	}\n	\n	\n}</pre><p><br/></p><p><br/></p><p>然后HelloWorld再加一个接口方法getRoleByUser，通过用户查找角色：<br/></p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.webservice;\n\nimport&nbsp;java.util.List;\n\nimport&nbsp;javax.jws.WebService;\n\nimport&nbsp;com.java1234.entity.Role;\nimport&nbsp;com.java1234.entity.User;\n\n@WebService\npublic&nbsp;interface&nbsp;HelloWorld&nbsp;{\n\n	public&nbsp;String&nbsp;say(String&nbsp;str);\n	\n	public&nbsp;List&lt;Role&gt;&nbsp;getRoleByUser(User&nbsp;user);\n}</pre><p><br/></p><p><br/></p><p>然后HelloWorld接口实现类 HelloWorldImpl写下新增的方法的具体实现，我们这里写死，模拟下即可：<br/></p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.webservice.impl;\n\nimport&nbsp;java.util.ArrayList;\nimport&nbsp;java.util.List;\n\nimport&nbsp;javax.jws.WebService;\n\nimport&nbsp;com.java1234.entity.Role;\nimport&nbsp;com.java1234.entity.User;\nimport&nbsp;com.java1234.webservice.HelloWorld;\n\n@WebService\npublic&nbsp;class&nbsp;HelloWorldImpl&nbsp;implements&nbsp;HelloWorld{\n\n	public&nbsp;String&nbsp;say(String&nbsp;str)&nbsp;{\n		return&nbsp;&quot;Hello&nbsp;&quot;+str;\n	}\n\n	public&nbsp;List&lt;Role&gt;&nbsp;getRoleByUser(User&nbsp;user)&nbsp;{\n		List&lt;Role&gt;&nbsp;roleList=new&nbsp;ArrayList&lt;Role&gt;();\n		//&nbsp;模拟&nbsp;直接写死\n		if(user!=null){\n			if(user.getUserName().equals(&quot;java1234&quot;)&nbsp;&amp;&amp;&nbsp;user.getPassword().equals(&quot;123456&quot;)){\n				roleList.add(new&nbsp;Role(1,&quot;技术总监&quot;));\n				roleList.add(new&nbsp;Role(2,&quot;架构师&quot;));\n			}else&nbsp;if(user.getUserName().equals(&quot;jack&quot;)&nbsp;&amp;&amp;&nbsp;user.getPassword().equals(&quot;123456&quot;)){\n				roleList.add(new&nbsp;Role(3,&quot;程序员&quot;));\n			}\n			return&nbsp;roleList;\n		}else{\n			return&nbsp;null;			\n		}\n		\n	}\n	\n	\n\n}</pre><p><br/></p><p>服务端其他地方不用动；<br/></p><p><br/></p><p>下面我们来处理下客户端，和前面讲的一样。我们用wsdl2java工具重新生成代码，这里就不再讲；</p><p><br/></p><p><img src=\"/static/userImages/20160218/1455762437448028677.jpg\" title=\"1455762437448028677.jpg\" alt=\"QQ鎴浘20160218103035.jpg\"/></p><p><br/></p><p>这里我看到，实体类，以及接口实现，代码都生成了。</p><p><br/></p><p>我们改下Client类：</p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.webservice;\n\nimport&nbsp;java.util.List;\n\npublic&nbsp;class&nbsp;Client&nbsp;{\n\n	public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{\n		HelloWorldService&nbsp;service=new&nbsp;HelloWorldService();\n		HelloWorld&nbsp;helloWorld=service.getHelloWorldPort();\n		//System.out.println(helloWorld.say(&quot;java1234&quot;));\n		User&nbsp;user=new&nbsp;User();\n		user.setUserName(&quot;jack&quot;);\n		user.setPassword(&quot;123456&quot;);\n		List&lt;Role&gt;&nbsp;roleList=helloWorld.getRoleByUser(user);\n		for(Role&nbsp;role:roleList){\n			System.out.println(role.getId()+&quot;,&quot;+role.getRoleName());\n		}\n	}\n}</pre><p><br/></p><p>运行截图：<br/></p><p><img src=\"/static/userImages/20160218/1455762521698070806.jpg\" title=\"1455762521698070806.jpg\" alt=\"QQ鎴浘20160218103159.jpg\"/></p><p><br/></p><p>完整代码：<a href=\"http://pan.baidu.com/s/1c1drMYO\" target=\"_blank\" title=\"http://pan.baidu.com/s/1c1drMYO\">http://pan.baidu.com/s/1c1drMYO</a></p><p><br/></p>', '9', 'webservice cxf');
INSERT INTO `t_blog` VALUES ('54', 'webservice执行过程深入理解', '前面我们搞了1，2个DEMO，基本对webservice服务发布，调用 ，执行 有一定的了解。今天的话，我们再系统的梳理下webservice执行过程。首先我们在webservice服务器端开发webservice接口，然后发布webservice；然后我们通过一个Url调用webservice接口，比如发布', '2016-02-19 20:18:54', '108', '0', '<p>前面我们搞了1，2个DEMO，基本对webservice服务发布，调用 ，执行 有一定的了解。</p><p>今天的话，我们再系统的梳理下webservice执行过程。</p><p><br/></p><p>首先我们在webservice服务器端开发webservice接口，然后发布webservice；</p><p><br/></p><p>然后我们通过一个Url调用webservice接口，比如发布的时候 ，url是&nbsp;http://192.168.1.103/helloWorld</p><p><br/></p><p>那我们请求的url就是&nbsp;http://192.168.1.103/helloWorld?wsdl &nbsp;</p><p><br/></p><p>我们在浏览器里输入，运行如下：</p><p><img src=\"/static/userImages/20160219/1455883676261078945.jpg\" title=\"1455883676261078945.jpg\" alt=\"QQ鎴浘20160219201122.jpg\"/></p><p><br/></p><p>这一大串xml标记，其实就是wsdl （Web Services Description Language） 也就是Web Service描述语言，描述服务器端定义的webservice接口的相关信息，</p><p>当然我们不用花时间去学习这东西，毕竟这东西是一套规范，但是我们仔细观察，猜测，也能分析出一些猫腻来，这里wsdl:types就是定义了一些变量，wsdl:message相当于定义方法，</p><p>wsdl:portType相当与调用与返回，下面的话，就是一些操作。这东西不必要去研究细节，搞这东西会晕死的。有工具给我处理。我们角度要站得高。</p><p><br/></p><p>客户端通过这个url请求，获得wsdl规范的xml文档片段信息，然后这里又涉及到一个新的概念SOAP（Simple Object Access Protocol）即简单对象访问协议，我们通过这个协议，来实现客户端，服务器端消息交互，SOAP使用XML消息调用远程方法；当然交互的媒介就是xml，具体交互内容根据wsdl文档描述来。</p><p><br/></p><p>这个就是大体的一个webservie执行过程。<img src=\"http://img.baidu.com/hi/jx2/j_0013.gif\"/> 当然，我作为一个开发者，我觉得一般的应用，Ajax跨域调用，以JSON作为交互媒介也不错。当然也要根据具体情况来。比如有大量的对象，集合类型，webservice还是有他的强项的。</p><p><br/></p><p><br/></p><p><br/></p>', '9', 'webservice cxf');
INSERT INTO `t_blog` VALUES ('56', 'cxf处理一些Map等复杂类型', '前面讲的一些都是简单类型,cxf都支持。但是有些复杂类型，cxf是不支持，比如常用的Map类型；下面我们在前面的实例基础上在加一个方法，比如我们现在有个需求，获取所有用用户以及对应的每个用户所有角色信息；服务器端：HelloWorld接口加方法：/**	 * 获取所有用户以及对应的角色	 * @return	', '2016-02-22 17:46:30', '24', '1', '<p>前面讲的一些都是简单类型,cxf都支持。但是有些复杂类型，cxf是不支持，比如常用的Map类型；<br/></p><p><br/></p><p>下面我们在前面的实例基础上在加一个方法，比如我们现在有个需求，获取所有用用户以及对应的每个用户所有角色信息；</p><p><br/></p><p>服务器端：<br/></p><p><br/></p><p>HelloWorld接口加方法：</p><pre class=\"brush:java;toolbar:false\">/**\n	&nbsp;*&nbsp;获取所有用户以及对应的角色\n	&nbsp;*&nbsp;@return\n	&nbsp;*/\n	public&nbsp;Map&lt;String,List&lt;Role&gt;&gt;&nbsp;getRoles();</pre><p><br/></p><p>HelloWorldImpl实现类加方法实现：<br/></p><pre class=\"brush:java;toolbar:false\">public&nbsp;Map&lt;String,&nbsp;List&lt;Role&gt;&gt;&nbsp;getRoles()&nbsp;{\n		Map&lt;String,List&lt;Role&gt;&gt;&nbsp;map=new&nbsp;HashMap&lt;String,List&lt;Role&gt;&gt;();\n		List&lt;Role&gt;&nbsp;roleList1=new&nbsp;ArrayList&lt;Role&gt;();\n		roleList1.add(new&nbsp;Role(1,&quot;技术总监&quot;));\n		roleList1.add(new&nbsp;Role(2,&quot;架构师&quot;));\n		map.put(&quot;java1234&quot;,&nbsp;roleList1);\n		List&lt;Role&gt;&nbsp;roleList2=new&nbsp;ArrayList&lt;Role&gt;();\n		roleList2.add(new&nbsp;Role(1,&quot;程序员&quot;));\n		map.put(&quot;jack&quot;,&nbsp;roleList2);\n		return&nbsp;map;\n	}</pre><p><br/></p><p>然后我们启动Server类：发现报错：</p><p><img src=\"/static/userImages/20160222/1456134575421042758.jpg\" title=\"1456134575421042758.jpg\" alt=\"QQ鎴浘20160222175231.jpg\"/></p><p>这个报错信息说，不支持该类型；</p><p><br/></p><p>这里我们有好几种解决方案，这里我们用最常用的一种，使用适配器，把cxf不能接受的类型通过适配器，转能接受的类型。</p><p><br/></p><p>我们使用@XmlJavaTypeAdapter注解，加在接口定义上，完整接口代码如下：</p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.webservice;\n\nimport&nbsp;java.util.List;\nimport&nbsp;java.util.Map;\n\nimport&nbsp;javax.jws.WebService;\nimport&nbsp;javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;\n\nimport&nbsp;com.java1234.adapter.MapAdapter;\nimport&nbsp;com.java1234.entity.Role;\nimport&nbsp;com.java1234.entity.User;\n\n@WebService\npublic&nbsp;interface&nbsp;HelloWorld&nbsp;{\n\n	public&nbsp;String&nbsp;say(String&nbsp;str);\n	\n	public&nbsp;List&lt;Role&gt;&nbsp;getRoleByUser(User&nbsp;user);\n	\n	/**\n	&nbsp;*&nbsp;获取所有用户以及对应的角色\n	&nbsp;*&nbsp;@return\n	&nbsp;*/\n	@XmlJavaTypeAdapter(MapAdapter.class)\n	public&nbsp;Map&lt;String,List&lt;Role&gt;&gt;&nbsp;getRoles();\n}</pre><p><br/></p><p>这里参数需要一个实现了XmlAdapter类的适配器类；</p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.adapter;\n\nimport&nbsp;java.util.HashMap;\nimport&nbsp;java.util.List;\nimport&nbsp;java.util.Map;\n\nimport&nbsp;javax.xml.bind.annotation.adapters.XmlAdapter;\n\nimport&nbsp;com.java1234.entity.Role;\n\n/**\n&nbsp;*&nbsp;Map适配器\n&nbsp;*&nbsp;@author&nbsp;Administrator\n&nbsp;*\n&nbsp;*/\npublic&nbsp;class&nbsp;MapAdapter&nbsp;extends&nbsp;XmlAdapter&lt;MyRole[],&nbsp;Map&lt;String,List&lt;Role&gt;&gt;&gt;{\n\n	/**\n	&nbsp;*&nbsp;适配转换&nbsp;&nbsp;MyRole[]&nbsp;-&gt;&nbsp;Map&lt;String,&nbsp;List&lt;Role&gt;&gt;\n	&nbsp;*/\n	@Override\n	public&nbsp;Map&lt;String,&nbsp;List&lt;Role&gt;&gt;&nbsp;unmarshal(MyRole[]&nbsp;v)&nbsp;throws&nbsp;Exception&nbsp;{\n		Map&lt;String,&nbsp;List&lt;Role&gt;&gt;&nbsp;map=new&nbsp;HashMap&lt;String,List&lt;Role&gt;&gt;();\n		for(int&nbsp;i=0;i&lt;v.length;i++){\n			MyRole&nbsp;r=v[i];\n			map.put(r.getKey(),&nbsp;r.getValue());\n		}\n		return&nbsp;map;\n	}\n\n	/**\n	&nbsp;*&nbsp;适配转换&nbsp;&nbsp;Map&lt;String,&nbsp;List&lt;Role&gt;&gt;&nbsp;-&gt;&nbsp;MyRole[]\n	&nbsp;*/\n	@Override\n	public&nbsp;MyRole[]&nbsp;marshal(Map&lt;String,&nbsp;List&lt;Role&gt;&gt;&nbsp;v)&nbsp;throws&nbsp;Exception&nbsp;{\n		MyRole[]&nbsp;roles=new&nbsp;MyRole[v.size()];\n		int&nbsp;i=0;\n		for(String&nbsp;key:v.keySet()){\n			roles[i]=new&nbsp;MyRole();\n			roles[i].setKey(key);\n			roles[i].setValue(v.get(key));\n			i++;\n		}\n		return&nbsp;roles;\n	}\n\n	\n	\n\n}</pre><p>这里的话XmlAdapter要加两个参数，XmlAdapter&lt;ValueType,BoundType&gt;&nbsp;</p><p>ValueType是cxf能接收的类型，这里我用了数组；</p><p>BoundType是cxf不能接受的类型，也就是我例子里的需求的Map类型；</p><p><br/></p><p>这里大家会看到，还有一个MyRole自定义类型，key:value。我们搞成两个属性，具体实现如下：<br/></p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.adapter;\n\nimport&nbsp;java.util.List;\n\nimport&nbsp;com.java1234.entity.Role;\n\n/**\n&nbsp;*&nbsp;自定义实体&nbsp;cxf能接受\n&nbsp;*&nbsp;@author&nbsp;Administrator\n&nbsp;*\n&nbsp;*/\npublic&nbsp;class&nbsp;MyRole&nbsp;{\n\n	private&nbsp;String&nbsp;key;\n	private&nbsp;List&lt;Role&gt;&nbsp;value;\n	\n	public&nbsp;String&nbsp;getKey()&nbsp;{\n		return&nbsp;key;\n	}\n	public&nbsp;void&nbsp;setKey(String&nbsp;key)&nbsp;{\n		this.key&nbsp;=&nbsp;key;\n	}\n	public&nbsp;List&lt;Role&gt;&nbsp;getValue()&nbsp;{\n		return&nbsp;value;\n	}\n	public&nbsp;void&nbsp;setValue(List&lt;Role&gt;&nbsp;value)&nbsp;{\n		this.value&nbsp;=&nbsp;value;\n	}\n	\n	\n}</pre><p><br/></p><p>OK 这样就行了。我们运行Server类，发布webservice接口：</p><p><img src=\"/static/userImages/20160222/1456134226937065109.jpg\" title=\"1456134226937065109.jpg\" alt=\"QQ鎴浘20160222174638.jpg\"/></p><p><br/></p><p><br/></p><p>然后就到了webservice客户端，我们用wsdl2java工具生成下最新代码，具体过程前面讲过，这里不重复讲：</p><p>生成代码如下：</p><p><img src=\"/static/userImages/20160222/1456134312484067804.jpg\" title=\"1456134312484067804.jpg\" alt=\"QQ鎴浘20160222174813.jpg\"/></p><p><br/></p><p>我们修改下Client类：</p><pre class=\"brush:java;toolbar:false\">package&nbsp;com.java1234.webservice;\n\nimport&nbsp;java.util.List;\n\npublic&nbsp;class&nbsp;Client&nbsp;{\n\n	public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{\n		HelloWorldService&nbsp;service=new&nbsp;HelloWorldService();\n		HelloWorld&nbsp;helloWorld=service.getHelloWorldPort();\n		//System.out.println(helloWorld.say(&quot;java1234&quot;));\n		/*User&nbsp;user=new&nbsp;User();\n		user.setUserName(&quot;jack&quot;);\n		user.setPassword(&quot;123456&quot;);\n		List&lt;Role&gt;&nbsp;roleList=helloWorld.getRoleByUser(user);\n		for(Role&nbsp;role:roleList){\n			System.out.println(role.getId()+&quot;,&quot;+role.getRoleName());\n		}*/\n		MyRoleArray&nbsp;array=helloWorld.getRoles();\n		List&lt;MyRole&gt;&nbsp;roleList=array.item;\n		for(int&nbsp;i=0;i&lt;roleList.size();i++){\n			MyRole&nbsp;my=roleList.get(i);\n			System.out.print(my.key+&quot;:&quot;);\n			for(Role&nbsp;r:my.value){\n				System.out.print(r.getId()+&quot;,&quot;+r.getRoleName()+&quot;&nbsp;&quot;);\n			}\n			System.out.println();\n		}\n	}\n}</pre><p><br/></p><p>运行下:</p><p><img src=\"/static/userImages/20160222/1456134352140052359.jpg\" title=\"1456134352140052359.jpg\" alt=\"QQ鎴浘20160222174853.jpg\"/></p><p><br/></p><p>OK,这样就实现了复杂类型的调用；</p><p><br/></p><p>完整代码：<a href=\"http://pan.baidu.com/s/1kTUseOZ\" target=\"_blank\" title=\"http://pan.baidu.com/s/1kTUseOZ\">http://pan.baidu.com/s/1kTUseOZ</a></p>', '9', 'webservice cxf');
INSERT INTO `t_blog` VALUES ('69', 'PowerDesigner中导入MYSQL数据库结构的步骤及问题解决', '    在使用PowerDesigner，要导入MySql的表结构到PowerDesginer里，记录下具体的操作步骤：1、首先要确保机器安装了MySql的ODBC驱动，去http://dev.mysql.com/downloads/connector/odbc/5.1.html 下载 Connector/O', '2016-07-21 13:33:48', '6', '0', '<p style=\"margin:0in;font-size:10.5pt;color:#333333\"><span style=\"font-family:\n&quot;Microsoft YaHei&quot;\">&nbsp;&nbsp;&nbsp;&nbsp;在使用</span><span style=\"font-family:Arial\">PowerDesigner</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">，要导入</span><span style=\"font-family:Arial\">MySql</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">的表结构到</span><span style=\"font-family:\nArial\">PowerDesginer</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">里，</span></p><p style=\"margin:0in;font-family:&quot;Microsoft YaHei&quot;;font-size:10.5pt;color:#333333\">记录下具体的操作步骤：</p><p style=\"margin:0in;font-size:10.5pt\"><span style=\"font-family:Arial;\ncolor:#333333\">1</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;color:#333333\">、首先要确保机器安装了</span><span style=\"font-family:Arial;color:#333333\">MySql</span><span style=\"font-family:\n&quot;Microsoft YaHei&quot;;color:#333333\">的</span><span style=\"font-family:Arial;\ncolor:#333333\">ODBC</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\ncolor:#333333\">驱动，去</span><a href=\"http://dev.mysql.com/downloads/connector/odbc/5.1.html\"><span style=\"font-family:Arial\">http://dev.mysql.com/downloads/connector/odbc/5.1.html</span></a><span style=\"font-family:Arial;color:#333333\">&nbsp;</span></p><p style=\"margin:0in;font-size:10.5pt;color:#333333\"><span style=\"font-family:\n&quot;Microsoft YaHei&quot;\">下载</span><span style=\"font-family:Arial\"> Connector/ODBC\n5.1.13 </span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">的</span><span style=\"font-family:Arial\"> Windows (x86,32-bit), MSI Installer&nbsp; </span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">安装程序，并安装成功；</span></p><p style=\"margin:0in;font-size:10.5pt;color:#333333\"><span style=\"font-family:\nArial\">2</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">、在系统的管理工具的数据源</span><span style=\"font-family:Arial\">(ODBC)</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">里添加了一个文件</span><span style=\"font-family:Arial\">DSN</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">，选择</span><span style=\"font-family:Arial\">MySQL ODBC 5.1 Driver</span><span style=\"font-family:\n&quot;Microsoft YaHei&quot;\">，并输入</span><span style=\"font-family:Arial\">ip</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">端口等信息，保存为文件；</span></p><p style=\"margin:0in;font-size:10.5pt;color:#333333\"><span style=\"font-family:\nArial\">3</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">、接着准备导入，在</span><span style=\"font-family:Arial\">PowerDesigner</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">里，使用菜单</span><span style=\"font-family:Arial\">File</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">＝》</span><span style=\"font-family:Arial\">Reverse Engineer</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">＝》</span><span style=\"font-family:Arial\">Database</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">，</span><span style=\"font-family:Arial\">DBMS</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">选择</span><span style=\"font-family:Arial\">MySQL5.0</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">，点击确定；</span></p><p style=\"margin:0in;font-size:10.5pt;color:#333333\"><span style=\"font-family:\nArial\">4</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">、在弹出的</span><span style=\"font-family:Arial\">Database Reverse Engineering Options</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">窗口的</span><span style=\"font-family:Arial\">Selection</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">里，选择</span><span style=\"font-family:Arial\">Using\na data source</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">，点击右边的小数据库图标，</span></p><p style=\"margin:0in;font-size:10.5pt;color:#333333\"><span style=\"font-family:\n&quot;Microsoft YaHei&quot;\">&nbsp; &nbsp; &nbsp; 在弹窗里，选择</span><span style=\"font-family:Arial\">ODBC file data\nsource</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">，并找到第</span><span style=\"font-family:Arial\">2</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">步创建的</span><span style=\"font-family:Arial\">DSN</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">文件，然后在下面输入</span><span style=\"font-family:Arial\">User ID</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">和</span><span style=\"font-family:Arial\">Password</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">，点击</span><span style=\"font-family:Arial\">Connect</span></p><p style=\"margin:0in;font-size:10.5pt;color:#333333\"><span style=\"font-family:\nArial\">5</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">、再点确定，即可弹出数据库的表选择窗口，选择你需要导入的数据库和相应的表之后，点确定，就开始从</span><span style=\"font-family:Arial\">MySql</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">导入了</span></p><p style=\"margin:0in;font-family:Calibri;font-size:11.0pt\">&nbsp;</p><p style=\"margin:0in;font-size:10.5pt;color:#333333\"><span style=\"font-family:\n&quot;Microsoft YaHei&quot;\">导入过程出现的问题，我开始在第</span><span style=\"font-family:Arial\">1</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">步是下载</span><span style=\"font-family:Arial\">64</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">位的</span><span style=\"font-family:Arial\">ODBC</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">驱动并安装，结果在第</span><span style=\"font-family:Arial\">4</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">步，一直报错</span></p><p style=\"margin:0in;font-size:10.5pt;color:#333333\"><span style=\"font-style:\nitalic;font-family:Arial\">SQLSTATE</span><span style=\"font-family:Arial\">=</span><span style=\"font-style:italic;font-family:Arial\">IM002</span><span style=\"font-family:\nArial\">[Microsoft][ODBC</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">驱动程序\n管理器未发现数据源名称并且未指定默认驱动程序</span></p><p style=\"margin:0in;font-size:10.5pt;color:#333333\"><span style=\"font-family:\n&quot;Microsoft YaHei&quot;\">在网上一直搜索也找不到错误，重启电脑也不行，后来发现</span><span style=\"font-family:\nArial\">PowerDesigner</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">是</span><span style=\"font-family:Arial\">32</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">位的，就重新下载了一下</span><span style=\"font-family:Arial\">32</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">位的</span><span style=\"font-family:Arial\">ODBC</span><span style=\"font-family:&quot;Microsoft YaHei&quot;\">驱动安装，果然搞定了。</span></p><p><br/></p>', '13', 'powerdesigner mysql');
INSERT INTO `t_blog` VALUES ('70', 'activiti表说明', '表说明RE：RepositoryService接口所操作的表ACT_RE_DEPLOYMENT部署流程定义时需要被持久化保存下来的信息ACT_RE_PROCDEF  流程定义数据表ID：IdentityService接口所操作的表ACT_ID_INFO 用户扩展信息表ACT_ID_MEMBERSHIP 用户与', '2016-07-21 13:41:28', '0', '0', '<p style=\"margin:0in;line-height:19pt;font-family:&quot;Microsoft YaHei&quot;;font-size:\n10.5pt;color:#333333\"><span style=\"background:white\">表说明</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">RE</span><span style=\"font-family:\n&quot;Microsoft YaHei&quot;;background:white\">：</span><span style=\"font-family:Arial;\nbackground:white\">RepositoryService</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\nbackground:white\">接口所操作的表</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_RE_DEPLOYMENT</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">部署流程定义时需要被持久化保存下来的信息</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_RE_PROCDEF&nbsp; </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">流程定义数据表</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ID</span><span style=\"font-family:\n&quot;Microsoft YaHei&quot;;background:white\">：</span><span style=\"font-family:Arial;\nbackground:white\">IdentityService</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\nbackground:white\">接口所操作的表</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_ID_INFO </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">用户扩展信息表</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_ID_MEMBERSHIP </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">用户与分组对应信息表</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_ID_GROUP </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">用户组信息</span><span style=\"font-family:Arial;background:white\">&nbsp;</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_ID_USER </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">用户信息</span></p><p style=\"margin:0in;margin-left:.375in;font-family:Calibri;font-size:11.0pt\">&nbsp;</p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">RU</span><span style=\"font-family:\n&quot;Microsoft YaHei&quot;;background:white\">：运行时表</span><span style=\"font-family:Arial;\nbackground:white\"> -&nbsp;RuntimeService</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_RU_VARIABLE </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">运行时流程变量表</span><span style=\"font-family:Arial;background:white\">&nbsp;</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_RU_TASK </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">任务节点表</span><span style=\"font-family:Arial;background:white\">&nbsp;</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_RU_JOB </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">定时任务表</span><span style=\"font-family:Arial;background:white\">&nbsp;</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_RU_IDENTITYLINK </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">任务参与者表。主要存储任务节点与参与者的相关信息</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_RU_EXECUTION </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">流程执行路径信息</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">HI</span><span style=\"font-family:\n&quot;Microsoft YaHei&quot;;background:white\">：历史数据表，</span><span style=\"font-family:\nArial;background:white\">HistoryService</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_HI_PROCINST </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">历史流程实例表</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_HI_ATTACHMENT </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">历史附件表</span><span style=\"font-family:Arial;background:white\">&nbsp;</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_HI_COMMENT </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">历史注释表</span><span style=\"font-family:Arial;background:white\">&nbsp;</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_HI_DETAIL </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">历史详情表</span><span style=\"font-family:Arial;background:white\">&nbsp;</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_HI_TASKINST </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">历史任务实例表</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_HI_ACTINST </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">历史执行路径信息</span><span style=\"font-family:Arial;background:white\">&nbsp;</span></p><p style=\"margin:0in;margin-left:.375in;font-family:Calibri;font-size:11.0pt\">&nbsp;</p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">GE</span><span style=\"font-family:\n&quot;Microsoft YaHei&quot;;background:white\">：全局数据</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_GE_BYTEARRAY </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">二进制数据表：流程定义图片和</span><span style=\"font-family:Arial;background:white\">xml</span><span style=\"font-family:\n&quot;Microsoft YaHei&quot;;background:white\">、</span><span style=\"font-family:Arial;\nbackground:white\">Serializable</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\nbackground:white\">的变量</span></p><p style=\"margin:0in;margin-left:.375in;font-size:10.5pt;color:#333333\"><span style=\"font-family:Arial;background:white\">ACT_GE_PROPERTY </span><span style=\"font-family:&quot;Microsoft YaHei&quot;;background:white\">属性数据表。存储整个流程引擎级别的数据</span></p><p><br/></p>', '14', 'activiti 表');
INSERT INTO `t_blog` VALUES ('71', 'activiti-explorer流程设计器部署tomcat和与SpringMvc+MyBatis工程项目集成方法', '1.下载activiti-5.18.0.zip2.解压activiti-5.18.0.zip3.将目录activiti-5.18.0\\wars中的activiti-explorer.war和activiti-rest.war复制到tomcat7中的apache-tomcat-7.0.2\\webapps目录中，', '2016-07-21 13:42:32', '3', '0', '<p style=\";font-size:15px\"><span style=\"font-family:Calibri\">1.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">下载</span><span style=\"font-family:Calibri\">activiti-5.18.0.zip</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">2.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">解压</span><span style=\"font-family:Calibri\">activiti-5.18.0.zip</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">3.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">将目录</span><span style=\"font-family:Calibri\">activiti-5.18.0\\wars</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中的</span><span style=\"font-family:Calibri\">activiti-explorer.war</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">和</span><span style=\"font-family:Calibri\">activiti-rest.war</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">复制到</span><span style=\"font-family:Calibri\">tomcat7</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中的</span><span style=\"font-family:Calibri\">apache-tomcat-7.0.2\\webapps</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">目录中，</span></p><p style=\";font-size:15px\"><span style=\"font-family:&#39;Microsoft YaHei&#39;\">使用</span><span style=\"font-family:Calibri\">tomcat6</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">可能会出现不能启动的问题。</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">4.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">在</span><span style=\"font-family:Calibri\">apache-tomcat-7.0.2\\bin</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中点击</span><span style=\"font-family:Calibri\">startup.bat</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">启动</span><span style=\"font-family:Calibri\">tomcat</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">。</span></p><p><span style=\"font-family:Calibri;font-size:15px\">5.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;;font-size:15px\">在浏览器中访问</span><a href=\"http://jump.bdimg.com/safecheck/index?url=x+Z5mMbGPAs/2/fuAR3HjU2kPMeD1KE7ZLoQTs24jQpJ0Uc6A97DYETZDXBT/cgFF9MVMvF3BmIjjmn7SgybIYDKMG6VhIloBcIYZ1yA4tNyeyAwBQO08CY0P25vpl9sHP8Kj1Z0j2vNi7QJlR1MPHY9qHh6BM0y\"><span style=\"font-family:&#39;Helvetica Neue&#39;;font-size:14px;background:white\">http://localhost:8080/activiti-explorer</span></a><span style=\"font-family:&#39;Microsoft YaHei&#39;;font-size:15px\">，出现</span><span style=\"font-family:Calibri;font-size:15px\">activiti-explorer</span><span style=\"font-family:&#39;Microsoft YaHei&#39;;font-size:15px\">登陆界面说明启动成功，注意部分</span><span style=\"font-family:Calibri;font-size:15px\">IE</span><span style=\"font-family: &#39;Microsoft YaHei&#39;;font-size:15px\">版本可能不能正常显示，可以使用火狐浏览器或其他浏览器访问。</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">6.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">输入用户名</span><span style=\"font-family: Calibri\">kermit</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">和密码</span><span style=\"font-family:Calibri\">kermit</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">登陆</span><span style=\"font-family:Calibri\">activiti-explorer</span><span style=\"font-family: &#39;Microsoft YaHei&#39;\">，可以进行相关操作，但此时使用的是</span><span style=\"font-family:Calibri\">H2</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">内存数据库，我们将其修改访问自己的业务数据库，实现和自己的业务对接。</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">7.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">进入</span><span style=\"font-family:Calibri\">apache-tomcat-7.0.2\\webapps</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中，发现</span><span style=\"font-family:Calibri\">activiti-explorer.war</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">和</span><span style=\"font-family:Calibri\">activiti-rest.war</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">已自动被解压为文件夹</span><span style=\"font-family: Calibri\">activiti-explorer</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">和</span><span style=\"font-family:Calibri\">activiti-rest</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">，删除</span><span style=\"font-family:Calibri\">activiti-explorer.war</span><span style=\"font-family: &#39;Microsoft YaHei&#39;\">和</span><span style=\"font-family:Calibri\">activiti-rest.war</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">，进入</span><span style=\"font-family:Calibri\">apache-tomcat-7.0.2\\webapps\\activiti-explorer\\WEB-INF\\classes</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中修改</span><span style=\"font-family:Calibri\">db.properties</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中数据库配置为自己的数据库配置，如下：</span></p><p style=\";font-family:Calibri;font-size:15px\">db=mysql</p><p style=\";font-family:Calibri;font-size:15px\">jdbc.driver=com.mysql.jdbc.Driver</p><p style=\";font-family:Calibri;font-size:15px\">jdbc.url=jdbc:mysql://localhost:3306/autoee</p><p style=\";font-family:Calibri;font-size:15px\">jdbc.username=autoee</p><p style=\";font-family:Calibri;font-size:15px\">jdbc.password=autoee</p><p style=\";font-size:15px\"><span style=\"font-family:&#39;Microsoft YaHei&#39;\">将</span><span style=\"font-family:Calibri\">mysql</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">驱动</span><span style=\"font-family:Calibri\">jar</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">包</span><span style=\"font-family:Calibri\">mysql-connector-java-5.1.27.jar</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">复制到</span><span style=\"font-family:Calibri\">apache-tomcat-7.0.2\\webapps\\activiti-explorer\\WEB-INF\\lib</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中。</span></p><p style=\";font-size:15px\"><span style=\"font-family:&#39;Microsoft YaHei&#39;\">同样修改</span><span style=\"font-family:Calibri\">apache-tomcat-7.0.2\\webapps\\activiti-rest\\WEB-INF\\classes</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中的</span><span style=\"font-family:Calibri\">db.properties</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中数据库配置为自己的数据库配置，并将</span><span style=\"font-family:Calibri\">mysql</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">驱动</span><span style=\"font-family:Calibri\">jar</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">包</span><span style=\"font-family:Calibri\">mysql-connector-java-5.1.27.jar</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">也复制到</span><span style=\"font-family:Calibri\">apache-tomcat-7.0.2\\webapps\\activiti-rest\\WEB-INF\\lib</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中。</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">8.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">重新启动</span><span style=\"font-family:Calibri\">tomcat</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">，进入</span><span style=\"font-family:Calibri\">activiti-explorer</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">，会看到原来自己的工程项目中已有的工作流流程，可以直接通过</span><span style=\"font-family:Calibri\">activiti-explorer</span><span style=\"font-family: &#39;Microsoft YaHei&#39;\">新建流程，部署到自己的业务系统中。</span></p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p><br/></p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">SpringMvc+MyBatis</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">项目工程集成</span><span style=\"font-family: Calibri\">activiti-5.18.0</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">操作方法</span></p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">1.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">下载</span><span style=\"font-family:Calibri\">activiti-5.18.0.zip</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">2.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">解压</span><span style=\"font-family:Calibri\">activiti-5.18.0.zip</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">3.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">将目录</span><span style=\"font-family:Calibri\">activiti-5.18.0\\libs</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中的</span><span style=\"font-family:Calibri\">jar</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">复制到自己的工程中</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">4.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">将目录</span><span style=\"font-family:Calibri\">activiti-5.18.0\\wars</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中的</span><span style=\"font-family:Calibri\">activiti-explorer.war</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">解压到当前目录</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">5.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">将目录</span><span style=\"font-family:Calibri\">activiti-5.18.0\\wars\\activiti-explorer\\WEB-INF\\lib</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">中如下</span><span style=\"font-family:Calibri\">jar</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">包复制到自己的工程中</span></p><p style=\";font-family:Calibri;font-size:15px\">activation-1.1.1.jar</p><p style=\";font-family:Calibri;font-size:15px\">jackson-annotations-2.2.3.jar</p><p style=\";font-family:Calibri;font-size:15px\">jackson-core-2.2.3.jar</p><p style=\";font-family:Calibri;font-size:15px\">jackson-databind-2.2.3.jar</p><p style=\";font-family:Calibri;font-size:15px\">joda-time-2.6.jar</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">6.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">修改自己工程的</span><span style=\"font-family: Calibri\">spring</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">配置文件（如：</span><span style=\"font-family:Calibri\">spring-mvc-mybatis.xml</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">），添加如下内容：</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">&lt;!-- </span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">加载</span><span style=\"font-family:Calibri\">activiti</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">引擎</span><span style=\"font-family:Calibri\"> --&gt;</span></p><p style=\";font-family:Calibri;font-size:15px\">&lt;bean id=&quot;processEngine&quot; class=&quot;org.activiti.spring.ProcessEngineFactoryBean&quot;&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;property name=&quot;processEngineConfiguration&quot; ref=&quot;processEngineConfiguration&quot; /&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;/bean&gt;</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">&lt;!-- dataSource</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">为自己已经定义好的数据源，</span><span style=\"font-family:Calibri\">transactionManager</span><span style=\"font-family: &#39;Microsoft YaHei&#39;\">为自己已经定义好的事务管理器</span><span style=\"font-family:Calibri\"> --&gt;</span></p><p style=\";font-family:Calibri;font-size:15px\">&lt;bean id=&quot;processEngineConfiguration&quot; class=&quot;org.activiti.spring.SpringProcessEngineConfiguration&quot;&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;property name=&quot;databaseSchemaUpdate&quot; value=&quot;true&quot; /&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;property name=&quot;jobExecutorActivate&quot; value=&quot;false&quot; /&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;/bean&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">&lt;!-- activiti</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">的各种服务接口</span><span style=\"font-family:Calibri\"> --&gt;</span></p><p style=\";font-family:Calibri;font-size:15px\">&lt;bean id=&quot;repositoryService&quot; factory-bean=&quot;processEngine&quot; factory-method=&quot;getRepositoryService&quot; /&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;bean id=&quot;runtimeService&quot; factory-bean=&quot;processEngine&quot; factory-method=&quot;getRuntimeService&quot; /&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;bean id=&quot;taskService&quot; factory-bean=&quot;processEngine&quot; factory-method=&quot;getTaskService&quot; /&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;bean id=&quot;historyService&quot; factory-bean=&quot;processEngine&quot; factory-method=&quot;getHistoryService&quot; /&gt;</p><p style=\";font-family:Calibri;font-size:15px\">&lt;bean id=&quot;managementService&quot; factory-bean=&quot;processEngine&quot; factory-method=&quot;getManagementService&quot; /&gt;</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">7.</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">如上配置后既可以在工程中调用</span><span style=\"font-family:Calibri\">activiti</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">相关服务进行对应处理</span></p><p style=\";font-size:15px\"><span style=\"font-family:&#39;Microsoft YaHei&#39;\">可以使用附件中的</span><span style=\"font-family:Calibri\">WorkFlowController.java</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">和</span><span style=\"font-family:Calibri\">studentAskOffProcess2.bpmn</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">进行</span><span style=\"font-family:Calibri\">main</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">方法测试。</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">studentAskOffProcess2.bpmn</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">放在</span><span style=\"font-family:Calibri\">src</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">目录下即可。</span></p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">package org.autoee.web.workflow;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">import java.util.List;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">import javax.annotation.Resource;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.ProcessEngine;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.RepositoryService;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.RuntimeService;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.TaskService;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.history.HistoricActivityInstance;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.history.HistoricActivityInstanceQuery;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.history.HistoricProcessInstance;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.history.HistoricProcessInstanceQuery;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.history.HistoricTaskInstance;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.history.HistoricTaskInstanceQuery;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.repository.Deployment;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.repository.DeploymentQuery;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.repository.ProcessDefinition;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.repository.ProcessDefinitionQuery;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.runtime.ProcessInstance;</p><p style=\";font-family:Calibri;font-size:15px\">import org.activiti.engine.task.Task;</p><p style=\";font-family:Calibri;font-size:15px\">import org.apache.log4j.Logger;</p><p style=\";font-family:Calibri;font-size:15px\">import org.autoee.web.base.controller.BaseController;</p><p style=\";font-family:Calibri;font-size:15px\">import org.springframework.context.ApplicationContext;</p><p style=\";font-family:Calibri;font-size:15px\">import org.springframework.context.support.ClassPathXmlApplicationContext;</p><p style=\";font-family:Calibri;font-size:15px\">import org.springframework.stereotype.Controller;</p><p style=\";font-family:Calibri;font-size:15px\">import org.springframework.web.bind.annotation.RequestMapping;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">/**</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">* @Description: [Form</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">配置管理</span><span style=\"font-family:Calibri\">]</span></p><p style=\";font-family:Calibri;font-size:15px\">* @Author: [Fuxs]</p><p style=\";font-family:Calibri;font-size:15px\">* @CreateDate: [2015-07-13]</p><p style=\";font-family:Calibri;font-size:15px\">* @Version: [v1.0.0]</p><p style=\";font-family:Calibri;font-size:15px\">*/</p><p style=\";font-family:Calibri;font-size:15px\">@Controller</p><p style=\";font-family:Calibri;font-size:15px\">@RequestMapping(&quot;/WorkFlowController&quot;)</p><p style=\";font-family:Calibri;font-size:15px\">public class WorkFlowController extends BaseController {</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">static final Logger logger = Logger.getLogger(WorkFlowController.class);</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">@Resource</p><p style=\";font-family:Calibri;font-size:15px\">private ProcessEngine processEngine;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">public static void main(String[] args) {</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">ApplicationContext context = new ClassPathXmlApplicationContext(&quot;spring-mvc-mybatis.xml&quot;);</p><p style=\";font-family:Calibri;font-size:15px\">ProcessEngine processEngine = (ProcessEngine) context.getBean(&quot;processEngine&quot;);</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">//</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">部署流程</span></p><p style=\";font-family:Calibri;font-size:15px\">RepositoryService repositoryService = processEngine.getRepositoryService();</p><p style=\";font-family:Calibri;font-size:15px\">Deployment deployment = repositoryService.createDeployment().addClasspathResource(&quot;studentAskOffProcess2.bpmn&quot;).deploy();</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">//</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">启动流程 启动流程使用流程定义中的</span><span style=\"font-family:Calibri\"> process id=&quot;studentAskOffProcess&quot;</span></p><p style=\";font-family:Calibri;font-size:15px\">RuntimeService runtimeService = processEngine.getRuntimeService();</p><p style=\";font-family:Calibri;font-size:15px\">ProcessInstance processInstance = runtimeService.startProcessInstanceByKey(&quot;studentAskOffProcess&quot;);</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">//</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">取得任务接口</span></p><p style=\";font-family:Calibri;font-size:15px\">TaskService taskService = processEngine.getTaskService();</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">//</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">查询流转到</span><span style=\"font-family: Calibri\"> accountancy </span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">的任务</span></p><p style=\";font-family:Calibri;font-size:15px\">List&lt;Task&gt; tasks = taskService.createTaskQuery().taskCandidateUser(&quot;fuxs&quot;).list();</p><p style=\";font-family:Calibri;font-size:15px\">Task task = null;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">System.out.println(&quot;tasks.size() = &quot; + tasks.size());</p><p style=\";font-family:Calibri;font-size:15px\">for (int i = 0; i &lt; tasks.size(); i++) {</p><p style=\";font-family:Calibri;font-size:15px\">task = tasks.get(i);</p><p style=\";font-family:Calibri;font-size:15px\">System.out.println(&quot;task = &quot; + task.getId() + &quot;-&quot; + task.getName());</p><p style=\";font-family:Calibri;font-size:15px\">}</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">//</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">完成任务</span></p><p style=\";font-family:Calibri;font-size:15px\">taskService.complete(task.getId());</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">tasks = taskService.createTaskQuery().taskCandidateUser(&quot;admin&quot;).list();</p><p style=\";font-family:Calibri;font-size:15px\">System.out.println(&quot;tasks.size() = &quot; + tasks.size());</p><p style=\";font-family:Calibri;font-size:15px\">for (int i = 0; i &lt; tasks.size(); i++) {</p><p style=\";font-family:Calibri;font-size:15px\">task = tasks.get(i);</p><p style=\";font-family:Calibri;font-size:15px\">System.out.println(&quot;task = &quot; + task.getId() + &quot;-&quot; + task.getName());</p><p style=\";font-family:Calibri;font-size:15px\">}</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-family:Calibri;font-size:15px\">&nbsp;</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">//</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">流程部署查询</span></p><p style=\";font-family:Calibri;font-size:15px\">DeploymentQuery deploymentQuery = repositoryService.createDeploymentQuery();</p><p style=\";font-family:Calibri;font-size:15px\">List&lt;Deployment&gt; deploymentList = deploymentQuery.list();</p><p style=\";font-family:Calibri;font-size:15px\">for (int i = 0; i &lt; deploymentList.size(); i++) {</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">System.out.println(&quot;</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">流程部署</span><span style=\"font-family:Calibri\"> = &quot; + deploymentList.get(i).getId());</span></p><p style=\";font-family:Calibri;font-size:15px\">}</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">//</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">流程定义查询</span></p><p style=\";font-family:Calibri;font-size:15px\">ProcessDefinitionQuery processDefinitionQuery = repositoryService.createProcessDefinitionQuery();</p><p style=\";font-family:Calibri;font-size:15px\">List&lt;ProcessDefinition&gt; processDefinitionList = processDefinitionQuery.orderByProcessDefinitionId().asc().list();</p><p style=\";font-family:Calibri;font-size:15px\">for (int i = 0; i &lt; processDefinitionList.size(); i++) {</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">System.out.println(&quot;</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">流程定义</span><span style=\"font-family:Calibri\"> = &quot; + processDefinitionList.get(i).getId() + &quot;-&quot; + processDefinitionList.get(i).getName());</span></p><p style=\";font-family:Calibri;font-size:15px\">}</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">//</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">处理中的流程实例查询</span></p><p style=\";font-family:Calibri;font-size:15px\">List&lt;ProcessInstance&gt; processInstanceList = runtimeService.createProcessInstanceQuery().list();</p><p style=\";font-family:Calibri;font-size:15px\">ProcessInstance instance = null;</p><p style=\";font-family:Calibri;font-size:15px\">for (int i = 0; i &lt; processInstanceList.size(); i++) {</p><p style=\";font-family:Calibri;font-size:15px\">instance = processInstanceList.get(i);</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">System.out.println(&quot;</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">处理中的流程实例</span><span style=\"font-family: Calibri\"> = &quot; + processInstanceList.get(i).getId() + &quot;-&quot; + instance.getName());</span></p><p style=\";font-family:Calibri;font-size:15px\">}</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">//</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">处理完成的流程实例查询</span></p><p style=\";font-family:Calibri;font-size:15px\">HistoricProcessInstanceQuery historicProcessInstanceQuery = processEngine.getHistoryService().createHistoricProcessInstanceQuery();</p><p style=\";font-family:Calibri;font-size:15px\">List&lt;HistoricProcessInstance&gt; historicProcessInstanceList = historicProcessInstanceQuery.finished().orderByProcessInstanceStartTime().asc()</p><p style=\";font-family:Calibri;font-size:15px\">.list();</p><p style=\";font-family:Calibri;font-size:15px\">for (int i = 0; i &lt; historicProcessInstanceList.size(); i++) {</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">System.out.println(&quot;</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">处理完成的流程实例</span><span style=\"font-family: Calibri\"> = &quot; +historicProcessInstanceList.get(i).getId() + &quot;-&quot; + historicProcessInstanceList.get(i).getName());</span></p><p style=\";font-family:Calibri;font-size:15px\">}</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">//</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">流程处理记录查询</span></p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">// </span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">仅得到流程中的</span><span style=\"font-family: Calibri\"> UserTask </span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">节点</span></p><p style=\";font-family:Calibri;font-size:15px\">HistoricTaskInstanceQuery historicTaskInstanceQuery = processEngine.getHistoryService().createHistoricTaskInstanceQuery();</p><p style=\";font-family:Calibri;font-size:15px\">List&lt;HistoricTaskInstance&gt; historicTaskInstanceList = historicTaskInstanceQuery.processInstanceId(instance.getId())</p><p style=\";font-family:Calibri;font-size:15px\">.orderByHistoricActivityInstanceStartTime().asc().list();</p><p style=\";font-family:Calibri;font-size:15px\">for (int i = 0; i &lt; historicTaskInstanceList.size(); i++) {</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">System.out.println(&quot;</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">流程中的</span><span style=\"font-family:Calibri\"> UserTask </span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">节点</span><span style=\"font-family:Calibri\"> = &quot; + historicTaskInstanceList.get(i).getName());</span></p><p style=\";font-family:Calibri;font-size:15px\">}</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">// </span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">查询流程中所有节点</span></p><p style=\";font-family:Calibri;font-size:15px\">HistoricActivityInstanceQuery historicActivityInstanceQuery = processEngine.getHistoryService().createHistoricActivityInstanceQuery();</p><p style=\";font-family:Calibri;font-size:15px\">List&lt;HistoricActivityInstance&gt; historicActivityInstanceList = historicActivityInstanceQuery.processInstanceId(instance.getId())</p><p style=\";font-family:Calibri;font-size:15px\">.orderByHistoricActivityInstanceStartTime().asc().list();</p><p style=\";font-family:Calibri;font-size:15px\">for (int i = 0; i &lt; historicActivityInstanceList.size(); i++) {</p><p style=\";font-size:15px\"><span style=\"font-family:Calibri\">System.out.println(&quot;</span><span style=\"font-family:&#39;Microsoft YaHei&#39;\">流程中所有节点</span><span style=\"font-family: Calibri\">= &quot; + historicActivityInstanceList.get(i).getActivityName());</span></p><p style=\";font-family:Calibri;font-size:15px\">}</p><p style=\";font-family:Calibri;font-size:15px\">}</p><p style=\";font-family:Calibri;font-size:15px\">}</p><p><br/></p>', '14', 'activiti 部署');
INSERT INTO `t_blog` VALUES ('72', 'Spring Cache抽象详解', '缓存简介缓存，我的理解是：让数据更接近于使用者；工作机制是：先从缓存中读取数据，如果没有再从慢速设备上读取实际数据（数据也会存入缓存）；缓存什么：那些经常读取且不经常修改的数据/那些昂贵（CPU/IO）的且对于相同的请求有相同的计算结果的数据。如CPU--L1/L2--内存--磁盘就是一个典型的例子，CPU需', '2016-07-21 13:44:36', '8', '1', '<p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">缓存简介</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">缓存，我的理解是：让数据更接近于使用者；工作机制是：先从缓存中读取数据，如果没有再从慢速设备上读取实际数据（数据也会存入缓存）；缓存什么：那些经常读取且不经常修改的数据/那些昂贵（CPU/IO）的且对于相同的请求有相同的计算结果的数据。如CPU--L1/L2--内存--磁盘就是一个典型的例子，CPU需要数据时先从L1/L2中读取，如果没有到内存中找，如果还没有会到磁盘上找。还有如用过Maven的朋友都应该知道，我们找依赖的时候，先从本机仓库找，再从本地服务器仓库找，最后到远程仓库服务器找；还有如京东的物流为什么那么快？他们在各个地都有分仓库，如果该仓库有货物那么送货的速度是非常快的。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">缓存命中率</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">即从缓存中读取数据的次数\n与 总读取次数的比率，命中率越高越好：</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">命中率\n= 从缓存中读取次数 / (总读取次数[从缓存中读取次数&nbsp;+ 从慢速设备上读取的次数])</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">Miss率\n= 没有从缓存中读取的次数&nbsp;/ (总读取次数[从缓存中读取次数&nbsp;+ 从慢速设备上读取的次数])</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">这是一个非常重要的监控指标，如果做缓存一定要健康这个指标来看缓存是否工作良好；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">缓存策略</span></p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">Eviction policy</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">移除策略，即如果缓存满了，从缓存中移除数据的策略；常见的有LFU、LRU、FIFO：</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">FIFO（First\nIn First Out）：先进先出算法，即先放入缓存的先被移除；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">LRU（Least\nRecently Used）：最久未使用算法，使用时间距离现在最久的那个被移除；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">LFU（Least\nFrequently Used）：最近最少使用算法，一定时间段内使用次数（频率）最少的那个被移除；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">TTL（Time To Live&nbsp;）</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">存活期，即从缓存中创建时间点开始直到它到期的一个时间段（不管在这个时间段内有没有访问都将过期）</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">&nbsp;</span></p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">TTI（Time To Idle）</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">空闲期，即一个数据多久没被访问将从缓存中移除的时间。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">到此，基本了解了缓存的知识，在Java中，我们一般对调用方法进行缓存控制，比如我调用&quot;findUserById(Long\nid)&quot;，那么我应该在调用这个方法之前先从缓存中查找有没有，如果没有再掉该方法如从数据库加载用户，然后添加到缓存中，下次调用时将会从缓存中获取到数据。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">自Spring\n3.1起，提供了类似于@Transactional注解事务的注解Cache支持，且提供了Cache抽象；在此之前一般通过AOP实现；使用Spring\nCache的好处：</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">提供基本的Cache抽象，方便切换各种底层Cache；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">通过注解Cache可以实现类似于事务一样，缓存逻辑透明的应用到我们的业务代码上，且只需要更少的代码就可以完成；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">提供事务回滚时也自动回滚缓存；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">支持比较复杂的缓存逻辑；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">对于Spring\nCache抽象，主要从以下几个方面学习：</p><ul type=\"disc\" style=\"margin-left:.375in;direction:ltr;unicode-bidi:embed;\n margin-top:0in;margin-bottom:0in\" class=\" list-paddingleft-2\"><li><p><span style=\"font-family:Helvetica;font-size:10.5pt\">Cache API及默认提供的实现</span></p></li><li><p><span style=\"font-family:Helvetica;font-size:10.5pt\">Cache注解</span></p></li><li><p><span style=\"font-family:Helvetica;font-size:10.5pt\">实现复杂的Cache逻辑</span></p></li></ul><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">Cache API及默认提供的实现</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">Spring提供的核心Cache接口：&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">package</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;org.springframework.cache;&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">interface</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;Cache&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;getName();&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">缓存的名字</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;getNativeCache();&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">得到底层使用的缓存，如</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">Ehcache</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;ValueWrapper&nbsp;get(Object&nbsp;key);&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">根据</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">key</span><span style=\"font-family:\n     &quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;background:#FAFAFA\">得到一个</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">ValueWrapper</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">，然后调用其</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">get</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">方法获取值</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&lt;T&gt;&nbsp;T&nbsp;get(Object&nbsp;key,&nbsp;Class&lt;T&gt;&nbsp;type);</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">根据</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">key</span><span style=\"font-family:\n     &quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;background:#FAFAFA\">，和</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">value</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">的类型直接获取</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">value</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">void</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;put(Object&nbsp;key,&nbsp;Object&nbsp;value);</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">往缓存放数据</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">void</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;evict(Object&nbsp;key);</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">从缓存中移除</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">key</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">对应的缓存</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">void</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;clear();&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">清空缓存</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">interface</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;ValueWrapper&nbsp;{&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">缓存值的</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">Wrapper</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;get();&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">得到真实的</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">value</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">提供了缓存操作的读取/写入/移除方法；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">默认提供了如下实现：</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">ConcurrentMapCache：使用java.util.concurrent.ConcurrentHashMap实现的Cache；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">GuavaCache：对Guava\ncom.google.common.cache.Cache进行的Wrapper，需要Google Guava 12.0或更高版本，@since spring\n4；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">EhCacheCache：使用Ehcache实现</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">JCacheCache：对javax.cache.Cache进行的wrapper，@since\nspring 3.2；spring4将此类更新到JCache 0.11版本；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">另外，因为我们在应用中并不是使用一个Cache，而是多个，因此Spring还提供了CacheManager抽象，用于缓存的管理：&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">package</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;org.springframework.cache;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">import</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;java.util.Collection;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">interface</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;CacheManager&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;Cache&nbsp;getCache(String&nbsp;name);&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">根据</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">Cache</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">名字获取</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">Cache&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;Collection&lt;String&gt;&nbsp;getCacheNames();&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">得到所有</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">Cache</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">的名字</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">默认提供的实现：&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">ConcurrentMapCacheManager/ConcurrentMapCacheFactoryBean：管理ConcurrentMapCache；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">GuavaCacheManager；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">EhCacheCacheManager/EhCacheManagerFactoryBean；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">JCacheCacheManager/JCacheManagerFactoryBean；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">另外还提供了CompositeCacheManager用于组合CacheManager，即可以从多个CacheManager中轮询得到相应的Cache，如</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&lt;bean&nbsp;id=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;cacheManager&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">class</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;org.springframework.cache.support.CompositeCacheManager&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;cacheManagers&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;list&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ref&nbsp;bean=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;ehcacheManager&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">/&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ref&nbsp;bean=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;jcacheManager&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">/&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/list&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/property&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;fallbackToNoOpCache&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;value=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;true&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">/&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&lt;/bean&gt;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">当我们调用cacheManager.getCache(cacheName)\n时，会先从第一个cacheManager中查找有没有cacheName的cache，如果没有接着查找第二个，如果最后找不到，因为fallbackToNoOpCache=true，那么将返回一个NOP的Cache否则返回null。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">除了GuavaCacheManager之外，其他Cache都支持Spring事务的，即如果事务回滚了，Cache的数据也会移除掉。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">Spring不进行Cache的缓存策略的维护，这些都是由底层Cache自己实现，Spring只是提供了一个Wrapper，提供一套对外一致的API。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">示例</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt\"><span style=\"color:#333333\">需要添加Ehcache依赖，具体依赖轻参考</span><a href=\"https://github.com/zhangkaitao/spring4-showcase/blob/master/spring-cache/pom.xml\">pom.xml</a></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in\"><a href=\"https://github.com/zhangkaitao/spring4-showcase/blob/master/spring-cache/src/test/java/com/sishuok/spring/cache/SpringCacheTest.java\"><span style=\"font-family:Helvetica;font-size:10.5pt\">SpringCacheTest.java</span></a></p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Test</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">void</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;test()&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">throws</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;IOException&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">创建底层</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">Cache</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;net.sf.ehcache.CacheManager&nbsp;ehcacheManager&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;net.sf.ehcache.CacheManager(</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;ClassPathResource(</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;ehcache.xml&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">).getInputStream());&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">创建</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">Spring</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">的</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">CacheManager</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;EhCacheCacheManager&nbsp;cacheCacheManager&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;EhCacheCacheManager();&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">设置底层的</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">CacheManager</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;cacheCacheManager.setCacheManager(ehcacheManager);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;Long&nbsp;id&nbsp;=&nbsp;1L;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;user&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;User(id,&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;zhang&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;zhang@gmail.com&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">根据缓存名字获取</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">Cache</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;Cache&nbsp;cache&nbsp;=&nbsp;cacheCacheManager.getCache(</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">往缓存写数据</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;cache.put(id,&nbsp;user);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">从缓存读数据</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;Assert.assertNotNull(cache.get(id,&nbsp;User.</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">class</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">));&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">此处直接使用Spring提供的API进行操作；我们也可以通过xml/注解方式配置到spring容器；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt\"><span style=\"color:#333333\">xml风格的（</span><a href=\"https://github.com/zhangkaitao/spring4-showcase/blob/master/spring-cache/src/main/resources/spring-cache.xml\">spring-cache.xml</a><span style=\"color:#333333\">）：</span></p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&lt;bean&nbsp;id=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;ehcacheManager&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">class</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;configLocation&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;value=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;classpath:ehcache.xml&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">/&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&lt;/bean&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&lt;bean&nbsp;id=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;cacheManager&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">class</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;org.springframework.cache.ehcache.EhCacheCacheManager&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;cacheManager&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;ref=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;ehcacheManager&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">/&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;transactionAware&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;value=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;true&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">/&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&lt;/bean&gt;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">spring提供EhCacheManagerFactoryBean来简化ehcache\ncacheManager的创建，这样注入configLocation，会自动根据路径从classpath下找，比编码方式简单多了，然后就可以从spring容器获取cacheManager进行操作了。此处的transactionAware表示是否事务环绕的，如果true，则如果事务回滚，缓存也回滚，默认false。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt\"><span style=\"color:#333333\">注解风格的（</span><a href=\"https://github.com/zhangkaitao/spring4-showcase/blob/master/spring-cache/src/main/java/com/sishuok/spring/AppConfig.java\">AppConfig.java</a><span style=\"color:#333333\">）：</span></p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Bean</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;CacheManager&nbsp;cacheManager()&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">try</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;net.sf.ehcache.CacheManager&nbsp;ehcacheCacheManager&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;net.sf.ehcache.CacheManager(</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;ClassPathResource(</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;ehcache.xml&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">).getInputStream());&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EhCacheCacheManager&nbsp;cacheCacheManager&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;EhCacheCacheManager(ehcacheCacheManager);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;cacheCacheManager;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">catch</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;(IOException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">throw</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;RuntimeException(e);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">和编程方式差不多就不多介绍了。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">另外，除了这些默认的Cache之外，我们可以写自己的Cache实现；而且即使不用之后的Spring\nCache注解，我们也尽量使用Spring Cache API进行Cache的操作，如果要替换底层Cache也是非常方便的。到此基本的Cache\nAPI就介绍完了，接下来我们来看看使用Spring Cache注解来简化Cache的操作。</p><p style=\"margin:0in;line-height:18pt;font-family:Helvetica;font-size:10.5pt;\ncolor:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">Cache注解</span></p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">启用Cache注解</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt\"><span style=\"font-weight:bold;color:#333333\">XML风格的（</span><a href=\"https://github.com/zhangkaitao/spring4-showcase/blob/master/spring-cache/src/main/resources/spring-cache.xml\"><span style=\"font-weight:bold\">spring-cache.xml</span></a><span style=\"font-weight:\nbold;color:#333333\">）：</span></p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&lt;cache:annotation-driven&nbsp;cache-manager=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;cacheManager&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;proxy-target-</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">class</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;true&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">/&gt;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">另外还可以指定一个&nbsp;key-generator，即默认的key生成策略，后边讨论；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt\"><span style=\"font-weight:bold;color:#333333\">注解风格的（</span><a href=\"https://github.com/zhangkaitao/spring4-showcase/blob/master/spring-cache/src/main/java/com/sishuok/spring/AppConfig.java\"><span style=\"font-weight:bold\">AppConfig.java</span></a><span style=\"font-weight:\nbold;color:#333333\">）：</span></p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Configuration</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@ComponentScan</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(basePackages&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;com.sishuok.spring.service&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@EnableCaching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(proxyTargetClass&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">true</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">class</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;AppConfig&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">implements</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;CachingConfigurer&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@Bean</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@Override</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">public</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;CacheManager&nbsp;cacheManager()&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">try</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;net.sf.ehcache.CacheManager&nbsp;ehcacheCacheManager&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;net.sf.ehcache.CacheManager(</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;ClassPathResource(</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;ehcache.xml&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">).getInputStream());&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EhCacheCacheManager&nbsp;cacheCacheManager&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;EhCacheCacheManager(ehcacheCacheManager);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;cacheCacheManager;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">catch</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;(IOException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">throw</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;RuntimeException(e);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@Bean</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@Override</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">public</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;KeyGenerator&nbsp;keyGenerator()&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;SimpleKeyGenerator();&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">1、使用@EnableCaching启用Cache注解支持；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">2、实现CachingConfigurer，然后注入需要的cacheManager和keyGenerator；从spring4开始默认的keyGenerator是SimpleKeyGenerator；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin-top: 15pt; margin-bottom: 7pt; font-family: Helvetica; font-size: 15pt;\"><span style=\"font-weight:bold\">@CachePut&nbsp;</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">应用到写数据的方法上，如新增/修改方法，调用方法时会自动把相应的数据放入缓存：&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;save(User&nbsp;user)&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;users.add(user);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;user;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">即调用该方法时，会把user.id作为key，返回值作为value放入缓存；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">@CachePut注解：</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@interface</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;CachePut&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String[]&nbsp;value();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">缓存的名字，可以把数据写到多个缓存</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;key()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">缓存</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">key</span><span style=\"font-family:\n     &quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;background:#FAFAFA\">，如果不指定将使用默认的</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">KeyGenerator</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">生成，后边介绍</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;condition()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">满足缓存条件的数据才会放入缓存，</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">condition</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">在调用方法之前和之后都会判断</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;unless()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">用于否决缓存更新的，不像</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">condition</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">，该表达只在方法执行之后判断，此时可以拿到返回值</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">result</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">进行判断了</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">@CacheEvict&nbsp;</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">即应用到移除数据的方法上，如删除方法，调用方法时会从缓存中移除相应的数据：</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">移除指定</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">key</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">的数据</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;delete(User&nbsp;user)&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;users.remove(user);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;user;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;allEntries&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">true</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">移除所有数据</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">void</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;deleteAll()&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;users.clear();&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">@CacheEvict注解：</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@interface</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;CacheEvict&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String[]&nbsp;value();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">请参考</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;key()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">请参考</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;condition()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">请参考</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">boolean</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;allEntries()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">false</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">是否移除所有数据</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">boolean</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;beforeInvocation()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">false</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">是调用方法之前移除</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">/</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">还是调用之后移除</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">@Cacheable</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">应用到读取数据的方法上，即可缓存的方法，如查找方法：先从缓存中读取，如果没有再调用方法获取数据，然后把数据添加到缓存中：</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Cacheable</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#id&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">public</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;findById(</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">final</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;Long&nbsp;id)&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;cache&nbsp;miss,&nbsp;invoke&nbsp;find&nbsp;by&nbsp;id,&nbsp;id:&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;+&nbsp;id);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">for</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;(User&nbsp;user&nbsp;:&nbsp;users)&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">if</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;(user.getId().equals(id))&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;user;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">null</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">@Cacheable注解：</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@interface</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;Cacheable&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String[]&nbsp;value();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">请参考</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;key()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">请参考</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;condition()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">请参考</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;unless()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">请参考</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">@CachePut&nbsp;&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">&nbsp;</span></p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">运行流程</span></p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">1</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">、首先执行</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">（如果</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">beforeInvocation=</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">true</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">且</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">condition&nbsp;</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">通过），如果</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">allEntries=</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">true</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">，则清空所有</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">2</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\n     font-size:10.0pt;color:black;background:#FAFAFA\">、接着收集</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@Cacheable</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">（如果</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">condition&nbsp;</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">通过，且</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">key</span><span style=\"font-family:\n     &quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;background:#FAFAFA\">对应的数据不在缓存），放入</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">cachePutRequests</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">（也就是说如果</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">cachePutRequests</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">为空，则数据在缓存中）</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">3</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\n     font-size:10.0pt;color:black;background:#FAFAFA\">、如果</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">cachePutRequests</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">为空且没有</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">操作，那么将查找</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@Cacheable</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">的缓存，否则</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">result=</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">缓存数据（也就是说只要当没有</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">cache&nbsp;put</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">请求时才会查找缓存）</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">4</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\n     font-size:10.0pt;color:black;background:#FAFAFA\">、如果没有找到缓存，那么调用实际的</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">API</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">，把结果放入</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">result&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">5</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\n     font-size:10.0pt;color:black;background:#FAFAFA\">、如果有</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">操作</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(</span><span style=\"font-family:\n     &quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;background:#FAFAFA\">如果</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">condition&nbsp;</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">通过</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)</span><span style=\"font-family:\n     &quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;background:#FAFAFA\">，那么放入</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">cachePutRequests&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">6</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\n     font-size:10.0pt;color:black;background:#FAFAFA\">、执行</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">cachePutRequests</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">，将数据写入缓存（</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">unless</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">为空或者</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">unless</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">解析结果为</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">false</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">）；</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">7</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\n     font-size:10.0pt;color:black;background:#FAFAFA\">、执行</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">（如果</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">beforeInvocation=</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">false</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">且</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;condition&nbsp;</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:black;\n     background:#FAFAFA\">通过），如果</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">allEntries=</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">true</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;\n     font-size:10.0pt;color:black;background:#FAFAFA\">，则清空所有</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">流程中需要注意的就是2/3/4步：</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">如果有@CachePut操作，即使有@Cacheable也不会从缓存中读取；问题很明显，如果要混合多个注解使用，不能组合使用@CachePut和@Cacheable；官方说应该避免这样使用（解释是如果带条件的注解相互排除的场景）；不过个人感觉还是不要考虑这个好，让用户来决定如何使用，否则一会介绍的场景不能满足。</p><p style=\"margin-top: 15pt; margin-bottom: 7pt; font-family: Helvetica; font-size: 13.5pt;\"><span style=\"font-weight:bold\">提供的SpEL上下文数据</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">Spring\nCache提供了一些供我们使用的SpEL上下文数据，下表直接摘自Spring官方文档：</p><table cellpadding=\"0\" cellspacing=\"0\" valign=\"top\" title=\"\" summary=\"\"><tbody><tr class=\"firstRow\"><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\"><span style=\"font-weight:bold\">名字</span></p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\"><span style=\"font-weight:bold\">位置</span></p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"4\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\"><span style=\"font-weight:bold\">描述</span></p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"1\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\"><span style=\"font-weight:bold\">示例</span></p></td></tr><tr><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"1\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">methodName</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">root对象</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"4\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">当前被调用的方法名</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"1\"><p style=\"margin:0in;font-family:&quot;Courier New&quot;;font-size:12.0pt\">#root.methodName</p></td></tr><tr><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">method</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">root对象</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"4\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">当前被调用的方法</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"1\"><p style=\"margin:0in;font-family:&quot;Courier New&quot;;font-size:12.0pt\">#root.method.name</p></td></tr><tr><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">target</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">root对象</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"4\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">当前被调用的目标对象</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"1\"><p style=\"margin:0in;font-family:&quot;Courier New&quot;;font-size:12.0pt\">#root.target</p></td></tr><tr><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">targetClass</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">root对象</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"4\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">当前被调用的目标对象类</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"1\"><p style=\"margin:0in;font-family:&quot;Courier New&quot;;font-size:12.0pt\">#root.targetClass</p></td></tr><tr><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">args</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">root对象</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"4\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">当前被调用的方法的参数列表</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"1\"><p style=\"margin:0in;font-family:&quot;Courier New&quot;;font-size:12.0pt\">#root.args[0]</p></td></tr><tr><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">caches</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">root对象</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"4\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">当前方法调用使用的缓存列表（如@Cacheable(value={&quot;cache1&quot;,\n &nbsp;&quot;cache2&quot;})），则有两个cache</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"1\"><p style=\"margin:0in;font-family:&quot;Courier New&quot;;font-size:12.0pt\">#root.caches[0].name</p></td></tr><tr><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\"><span style=\"font-style:italic\">argument name</span></p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">执行上下文</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"4\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">当前被调用的方法的参数，如findById(Long\n &nbsp;id)，我们可以通过#id拿到参数</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt;\" width=\"1\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">#user.id</p></td></tr><tr><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">result</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"0\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">执行上下文</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"4\"><p style=\"margin:0in;font-family:Helvetica;font-size:11.0pt\">方法执行后的返回值（仅当方法执行之后的判断有效，如‘unless’，&#39;cache\n &nbsp;evict&#39;的beforeInvocation=false）</p></td><td style=\"border-color: rgb(163, 163, 163); border-width: 1pt; vertical-align: top; padding: 4pt; background-color: rgb(248, 248, 248);\" width=\"1\"><p style=\"margin:0in;font-family:&quot;Courier New&quot;;font-size:12.0pt\">#result</p></td></tr></tbody></table><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">通过这些数据我们可能实现比较复杂的缓存逻辑了，后边再来介绍。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">Key生成器</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">如果在Cache注解上没有指定key的话@CachePut(value\n= &quot;user&quot;)，会使用KeyGenerator进行生成一个key：&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">interface</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;KeyGenerator&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;generate(Object&nbsp;target,&nbsp;Method&nbsp;method,&nbsp;Object...&nbsp;params);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">默认提供了DefaultKeyGenerator生成器（Spring\n4之后使用SimpleKeyGenerator）：&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Override</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;Object&nbsp;generate(Object&nbsp;target,&nbsp;Method&nbsp;method,&nbsp;Object...&nbsp;params)&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">if</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;(params.length&nbsp;==&nbsp;</span><span style=\"font-size: 10pt; color: rgb(192, 0, 0); background: rgb(250, 250, 250);\">0</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;SimpleKey.EMPTY;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">if</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;(params.length&nbsp;==&nbsp;</span><span style=\"font-size: 10pt; color: rgb(192, 0, 0); background: rgb(250, 250, 250);\">1</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&amp;&amp;&nbsp;params[</span><span style=\"font-size: 10pt; color: rgb(192, 0, 0); background: rgb(250, 250, 250);\">0</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">]&nbsp;!=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">null</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;params[</span><span style=\"font-size: 10pt; color: rgb(192, 0, 0); background: rgb(250, 250, 250);\">0</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">];&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">new</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;SimpleKey(params);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">即如果只有一个参数，就使用参数作为key，否则使用SimpleKey作为key。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">我们也可以自定义自己的key生成器，然后通过xml风格的&lt;cache:annotation-driven\nkey-generator=&quot;&quot;/&gt;或注解风格的CachingConfigurer中指定keyGenerator。&nbsp;</p><p style=\"margin:0in;line-height:18pt;font-family:Helvetica;font-size:10.5pt;\ncolor:#333333\"><span style=\"font-weight:bold\">&nbsp;</span></p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">条件缓存</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">根据运行流程，如下@Cacheable将在执行方法之前(\n#result还拿不到返回值)判断condition，如果返回true，则查缓存；&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Cacheable</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#id&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;condition&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#id&nbsp;lt&nbsp;10&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;conditionFindById(</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">final</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;Long&nbsp;id)&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">根据运行流程，如下@CachePut将在执行完方法后（#result就能拿到返回值了）判断condition，如果返回true，则放入缓存；&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#id&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;condition&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#result.username&nbsp;ne&nbsp;&#39;zhang&#39;&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;conditionSave(</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">final</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;user)&nbsp;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">根据运行流程，如下@CachePut将在执行完方法后（#result就能拿到返回值了）判断unless，如果返回false，则放入缓存；（即跟condition相反）</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;unless&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#result.username&nbsp;eq&nbsp;&#39;zhang&#39;&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">public</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;conditionSave2(</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">final</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;user)&nbsp;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">根据运行流程，如下@CacheEvict，&nbsp;beforeInvocation=false表示在方法执行之后调用（#result能拿到返回值了）；且判断condition，如果返回true，则移除缓存；</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;beforeInvocation&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">false</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;condition&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#result.username&nbsp;ne&nbsp;&#39;zhang&#39;&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;conditionDelete(</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">final</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;user)&nbsp;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">@Caching</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">有时候我们可能组合多个Cache注解使用；比如用户新增成功后，我们要添加id--&gt;user；username---&gt;user；email---&gt;user的缓存；此时就需要@Caching组合多个注解标签了。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">如用户新增成功后，添加id--&gt;user；username---&gt;user；email---&gt;user到缓存；&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Caching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;put&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.username&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.email&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;save(User&nbsp;user)&nbsp;{&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;&nbsp;</p><p style=\"margin-top:15pt;margin-bottom:7pt;font-family:Helvetica;color:#333333\"><span style=\"font-size:10.5pt\">@Caching定义如下：</span><span style=\"font-size:15.0pt\">&nbsp;</span></p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@interface</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;Caching&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;Cacheable[]&nbsp;cacheable()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;{};&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">声明多个</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">@Cacheable</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;CachePut[]&nbsp;put()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;{};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">声明多个</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;CacheEvict[]&nbsp;evict()&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">default</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;{};&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">//</span><span style=\"font-family:&quot;Microsoft YaHei&quot;;font-size:10.0pt;color:#008200;\n     background:#FAFAFA\">声明多个</span><span style=\"font-size: 10pt; color: rgb(0, 130, 0); background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">自定义缓存注解</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">比如之前的那个@Caching组合，会让方法上的注解显得整个代码比较乱，此时可以使用自定义注解把这些注解组合到一个注解中，如：&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Caching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;put&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.username&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.email&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Target</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">({ElementType.METHOD,&nbsp;ElementType.TYPE})&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Retention</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(RetentionPolicy.RUNTIME)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Inherited</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@interface</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;UserSaveCache&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">这样我们在方法上使用如下代码即可，整个代码显得比较干净。&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@UserSaveCache</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;save(User&nbsp;user)&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">示例</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">新增/修改数据时往缓存中写&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Caching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;put&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.username&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.email&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;save(User&nbsp;user)&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Caching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;put&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.username&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.email&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;update(User&nbsp;user)&nbsp;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">删除数据时从缓存中移除</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Caching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evict&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.username&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.email&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;delete(User&nbsp;user)&nbsp;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;allEntries&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">true</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">public</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">void</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;deleteAll()&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">查找时从缓存中读</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Caching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cacheable&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@Cacheable</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#id&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;findById(</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">final</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;Long&nbsp;id)&nbsp;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Caching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cacheable&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@Cacheable</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#username&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">public</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;findByUsername(</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">final</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;String&nbsp;username)&nbsp;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Caching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cacheable&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@Cacheable</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#email&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">public</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;findByEmail(</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">final</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;String&nbsp;email)&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; font-family: Helvetica; font-size: 10pt;\"><span style=\"font-weight:bold\">问题及解决方案</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">一、比如findByUsername时，不应该只放username--&gt;user，应该连同id---&gt;user和email---&gt;user一起放入；这样下次如果按照id查找直接从缓存中就命中了；这需要根据之前的运行流程改造CacheAspectSupport：&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">//&nbsp;We&nbsp;only&nbsp;attempt&nbsp;to&nbsp;get&nbsp;a&nbsp;cached&nbsp;result&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;put&nbsp;requests</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">if</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;(cachePutRequests.isEmpty()&nbsp;&amp;&amp;&nbsp;contexts.get(CachePutOperation.</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">class</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">).isEmpty())&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;findCachedResult(contexts.get(CacheableOperation.</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">class</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">));&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">改为：</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">Collection&lt;CacheOperationContext&gt;&nbsp;cacheOperationContexts&nbsp;=&nbsp;contexts.get(CacheableOperation.</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">class</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">);&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">if</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;(!cacheOperationContexts.isEmpty())&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;findCachedResult(cacheOperationContexts);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">然后就可以通过如下代码完成想要的功能：&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Caching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cacheable&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@Cacheable</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#username&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;put&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#result.id&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;condition&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#result&nbsp;!=&nbsp;null&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">),&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#result.email&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;condition&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#result&nbsp;!=&nbsp;null&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;findByUsername(</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">final</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;String&nbsp;username)&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;cache&nbsp;miss,&nbsp;invoke&nbsp;find&nbsp;by&nbsp;username,&nbsp;username:&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;+&nbsp;username);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">for</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;(User&nbsp;user&nbsp;:&nbsp;users)&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">if</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;(user.getUsername().equals(username))&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;user;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">null</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">二、缓存注解会让代码看上去比较乱；应该使用自定义注解把缓存注解提取出去；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">三、往缓存放数据/移除数据是有条件的，而且条件可能很复杂，考虑使用SpEL表达式：</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;condition&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#root.target.canCache()&nbsp;and&nbsp;#root.caches[0].get(#user.id).get().username&nbsp;ne&nbsp;#user.username&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;beforeInvocation&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">true</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">void</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;conditionUpdate(User&nbsp;user)&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;或更复杂的直接调用目标对象的方法进行操作（如只有修改了某个数据才从缓存中清除，比如菜单数据的缓存，只有修改了关键数据时才清空菜单对应的权限数据）&nbsp;</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Caching</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evict&nbsp;=&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 10pt; color: rgb(100, 100, 100); background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;condition&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#root.target.canEvict(#root.caches[0],&nbsp;#user.id,&nbsp;#user.username)&quot;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">,&nbsp;beforeInvocation&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">true</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">void</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;conditionUpdate(User&nbsp;user)&nbsp;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">boolean</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;canEvict(Cache&nbsp;userCache,&nbsp;Long&nbsp;id,&nbsp;String&nbsp;username)&nbsp;{&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;cacheUser&nbsp;=&nbsp;userCache.get(id,&nbsp;User.</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">class</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">if</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;(cacheUser&nbsp;==&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">null</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">)&nbsp;{&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">false</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">;&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">return</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">&nbsp;!cacheUser.getUsername().equals(username);&nbsp;&nbsp;</span></p></li><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">}&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">如上方式唯一不太好的就是缓存条件判断方法也需要暴露出去；而且缓存代码和业务代码混合在一起，不优雅；因此把canEvict方法移到一个Helper静态类中就可以解决这个问题了：</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@CacheEvict</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;user&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;key&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.id&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;condition&nbsp;=&nbsp;</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;T(com.sishuok.spring.service.UserCacheHelper).canEvict(#root.caches[0],&nbsp;#user.id,&nbsp;#user.username)&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;beforeInvocation&nbsp;=&nbsp;</span><span style=\"font-weight: bold; font-size: 10pt; color: rgb(127, 0, 85); background: rgb(250, 250, 250);\">true</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">void</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;conditionUpdate(User&nbsp;user)&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">四、其实对于：id---&gt;user；username----&gt;user；email---&gt;user；更好的方式可能是：id---&gt;user；username---&gt;id；email---&gt;id；保证user只存一份；如：</p><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@CachePut</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;cacheName&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;key=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.username&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;cacheValue=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.username&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;</span><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">void</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;save(User&nbsp;user)&nbsp;&nbsp;&nbsp;</span></p></li></ol><p style=\"margin: 0in; font-size: 9pt;\"><span style=\"font-weight:\nbold;font-family:Monaco\">Java</span><span style=\"font-weight:bold;font-family:\n&quot;Microsoft YaHei&quot;\">代码</span><span style=\"font-weight:bold;font-family:Monaco\">&nbsp;&nbsp;</span></p><p><a><img src=\"http://localhost/static/ueditor/themes/default/images/spacer.gif\" width=\"15\" height=\"14\" alt=\"收藏代码\" word_img=\"file:///C:/Users/Ted/AppData/Local/Packages/Microsoft.Office.OneNote_8wekyb3d8bbwe/TempState/msohtmlclipclip_image001.png\" style=\"background:url(http://localhost/static/ueditor/themes/default/images/word.gif) no-repeat center center;border:1px solid #ddd\"/></a></p><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">@Cacheable</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">(value=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;cacheName&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;ley=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#user.username&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">,&nbsp;cacheValue=</span><span style=\"font-size: 10pt; color: blue; background: rgb(250, 250, 250);\">&quot;#caches[0].get(#caches[0].get(#username).get())&quot;</span><span style=\"font-size: 10pt; color: black; background: rgb(250, 250, 250);\">)&nbsp;&nbsp;</span></p></li></ol><ol type=\"1\" style=\"margin-left: 0.375in; direction: ltr; unicode-bidi: embed; margin-top: 0in; margin-bottom: 0in; font-family: Monaco; font-size: 10pt; font-weight: bold;\" class=\" list-paddingleft-2\"><li><p><span style=\"font-size: 10pt; background: rgb(250, 250, 250);\">public</span><span style=\"font-weight: normal; font-size: 10pt; color: black; background: rgb(250, 250, 250);\">&nbsp;User&nbsp;findByUsername(String&nbsp;username)&nbsp;&nbsp;</span></p></li></ol><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt\"><span style=\"color:#333333\">五、</span><a href=\"http://www.iteye.com/topic/1123633\">使用Spring3.1注解\n缓存 模糊匹配Evict的问题</a><span style=\"color:#333333\">&nbsp;</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">缓存都是key-value风格的，模糊匹配本来就不应该是Cache要做的；而是通过自己的缓存代码实现；</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt\"><span style=\"color:#333333\">六、</span><a href=\"http://www.iteye.com/topic/1122402\">spring\ncache的缺陷</a><span style=\"color:#333333\">：例如有一个缓存存放 list&lt;User&gt;，现在你执行了一个\nupdate(user)的方法，你一定不希望清除整个缓存而想替换掉update的元素</span></p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">这个在现有的抽象上没有很好的方案，可以考虑通过condition在之前的Helper方法中解决；当然不是很优雅。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">也就是说Spring\nCache注解还不是很完美，我认为可以这样设计：</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">@Cacheable(cacheName\n= &quot;缓存名称&quot;,key=&quot;缓存key/SpEL&quot;,\nvalue=&quot;缓存值/SpEL/不填默认返回值&quot;,\n&nbsp;beforeCondition=&quot;方法执行之前的条件/SpEL&quot;,\nafterCondition=&quot;方法执行后的条件/SpEL&quot;,\nafterCache=&quot;缓存之后执行的逻辑/SpEL&quot;)</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">value也是一个SpEL，这样可以定制要缓存的数据；afterCache定制自己的缓存成功后的其他逻辑。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">当然Spring\nCache注解对于大多数场景够用了，如果场景复杂还是考虑使用AOP吧；如果自己实现请考虑使用Spring Cache API进行缓存抽象。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin: 0in; line-height: 18pt; font-family: Helvetica; font-size: 10.5pt;\">欢迎加入spring群134755960进行交流。</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">&nbsp;</p><p style=\"margin:0in;font-family:Helvetica;font-size:10.5pt;color:#333333\">示例请参考我的github：</p><p style=\"margin:0in\"><a href=\"https://github.com/zhangkaitao/spring4-showcase/tree/master/spring-cache\"><span style=\"font-family:Helvetica;font-size:10.5pt\">https://github.com/zhangkaitao/spring4-showcase/tree/master/spring-cache</span></a></p><p><br/></p>', '15', 'spring cache');
INSERT INTO `t_blog` VALUES ('73', '如何发布Web项目到互联网', '比如我们有个项目想要发布到互联网上，我们首先需要购买域名以及主机，主机的话，推荐云主机（本人推荐西部数码或者阿里云），性能好；我们先在云主机上搭建环境，比如Mysql，Jdk，Tomcat；然后我们把自己开发的项目打包，打成War包；具体操作；右击项目-> Export 然后点击 Next ; 选择Brows', '2016-07-21 17:06:48', '1', '0', '<p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">比如我们有个项目想要发布到互联网上，我们首先需要购买域名以及主机，主机的话，推荐云主机（本人推荐西部数码或者阿里云），性能好；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">我们先在云主机上搭建环境，比如Mysql，Jdk，Tomcat；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">然后我们把自己开发的项目打包，打成War包；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">具体操作；右击项目-&gt; Export</p><p style=\"margin: 0in; white-space: normal;\"><br/></p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: Calibri; font-size: 11pt;\">&nbsp;<img src=\"http://localhost/static/userImages/20160721/1469091895699086728.png\" title=\"1469091895699086728.png\" alt=\"blob.png\"/></p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">然后点击 Next ;</p><p style=\"margin: 0in; white-space: normal;\"><img src=\"http://localhost/static/userImages/20160721/1469091906801087853.png\" title=\"1469091906801087853.png\" alt=\"blob.png\"/></p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: Calibri; font-size: 11pt;\">&nbsp;</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">选择Browse，我们随便选个地方&nbsp; 然后点击Finish即可；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">这样我们就可以生成一个War包了；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">我们把War包传到主机上去，放到Tomcat的webapps下，启动tomcat的startup.bat，会自动解压项目；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt;\"><span style=\"color: rgb(51, 51, 51);\">到了这里，还不够。我们只能通过&nbsp;</span><a href=\"http://xn--ip-3s9cz36l:8080/%E9%A1%B9%E7%9B%AE%E5%90%8D%E7%A7%B0%E8%AE%BF%E9%97%AE%EF%BC%9B\">http://外网IP:8080/项目名称访问；</a></p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">我们现在要干两个事情，第一个是去掉端口，第二个是去掉项目名称</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">我们找到tomcat安装包下的conf文件夹下的server.xml文件；</p><p style=\"margin: 0in; white-space: normal;\"><br/></p><p style=\"margin: 0in; white-space: normal;\"><img src=\"http://localhost/static/userImages/20160721/1469091920413073974.png\" title=\"1469091920413073974.png\" alt=\"blob.png\"/></p><p style=\"margin: 0in; white-space: normal;\"><br/></p><p style=\"margin: 0in; white-space: normal;\"><br/></p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">找到Connector节点；</p><table cellpadding=\"0\" cellspacing=\"0\" valign=\"top\" title=\"\" summary=\"\"><tbody><tr class=\"firstRow\"><td width=\"0\" style=\"padding: 2pt 3pt; border-width: 1pt; border-color: rgb(163, 163, 163); vertical-align: top; background-color: rgb(247, 247, 249);\"><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">1</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">2</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">3</p></td><td width=\"2\" style=\"padding: 2pt 3pt; border-width: 1pt; border-color: rgb(163, 163, 163); vertical-align: top; background-color: rgb(245, 245, 245);\"><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&lt;<span style=\"font-weight: bold; color: rgb(255, 120, 0);\">Connector</span>&nbsp;<span style=\"color: gray;\">port</span>=<span style=\"color: blue;\">&quot;8080&quot;</span>&nbsp;<span style=\"color: gray;\">protocol</span>=<span style=\"color: blue;\">&quot;HTTP/1.1&quot;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: gray;\">connectionTimeout</span>=<span style=\"color: blue;\">&quot;20000&quot;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: gray;\">redirectPort</span>=<span style=\"color: blue;\">&quot;8443&quot;</span>&nbsp;/&gt;</p></td></tr></tbody></table><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">我们把port=&quot;8080&quot;改成80端口即可，这样我们就可以不用端口了。不加端口就是默认访问80端口；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: Calibri; font-size: 11pt;\">&nbsp;</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">我们在最后 找到Host节点：</p><table cellpadding=\"0\" cellspacing=\"0\" valign=\"top\" title=\"\" summary=\"\"><tbody><tr class=\"firstRow\"><td width=\"0\" style=\"padding: 2pt 3pt; border-width: 1pt; border-color: rgb(163, 163, 163); vertical-align: top; background-color: rgb(247, 247, 249);\"><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">1</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">2</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">3</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">4</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">5</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">6</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">7</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">8</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">9</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">10</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">11</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">12</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">13</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">14</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">15</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">16</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">17</p></td><td width=\"4\" style=\"padding: 2pt 3pt; border-width: 1pt; border-color: rgb(163, 163, 163); vertical-align: top; background-color: rgb(245, 245, 245);\"><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&lt;<span style=\"font-weight: bold; color: rgb(255, 120, 0);\">Host</span>&nbsp;<span style=\"color: gray;\">name</span>=<span style=\"color: blue;\">&quot;localhost&quot;</span>&nbsp;&nbsp;<span style=\"color: gray;\">appBase</span>=<span style=\"color: blue;\">&quot;webapps&quot;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: gray;\">unpackWARs</span>=<span style=\"color: blue;\">&quot;true&quot;</span>&nbsp;<span style=\"color: gray;\">autoDeploy</span>=<span style=\"color: blue;\">&quot;true&quot;</span>&gt;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">&lt;!--&nbsp;SingleSignOn&nbsp;valve,&nbsp;share&nbsp;authentication&nbsp;between&nbsp;web&nbsp;applications</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">Documentation&nbsp;at:&nbsp;/docs/config/valve.html&nbsp;--&gt;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">&lt;!--</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">&lt;Valve&nbsp;className=&quot;org.apache.catalina.authenticator.SingleSignOn&quot;&nbsp;/&gt;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">--&gt;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">&lt;!--&nbsp;Access&nbsp;log&nbsp;processes&nbsp;all&nbsp;example.</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">Documentation&nbsp;at:&nbsp;/docs/config/valve.html</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">Note:&nbsp;The&nbsp;pattern&nbsp;used&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;using&nbsp;pattern=&quot;common&quot;&nbsp;--&gt;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span style=\"font-weight: bold;\">Valve</span>&nbsp;<span style=\"color: gray;\">className</span>=<span style=\"color: blue;\">&quot;org.apache.catalina.valves.AccessLogValve&quot;</span>&nbsp;<span style=\"color: gray;\">directory</span>=<span style=\"color: blue;\">&quot;logs&quot;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: gray;\">prefix</span>=<span style=\"color: blue;\">&quot;localhost_access_log.&quot;</span>&nbsp;<span style=\"color: gray;\">suffix</span>=<span style=\"color: blue;\">&quot;.txt&quot;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: gray;\">pattern</span>=<span style=\"color: blue;\">&quot;%h&nbsp;%l&nbsp;%u&nbsp;%t&nbsp;&amp;quot;%r&amp;quot;&nbsp;%s&nbsp;%b&quot;</span>&nbsp;/&gt;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span style=\"font-weight: bold;\">Host</span>&gt;</p></td></tr></tbody></table><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">我们在里面加一个节点：</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">&lt;Context path=&quot;&quot; docBase=&quot;C:\\apache-tomcat-7.0.11-windows-x86\\apache-tomcat-7.0.11\\webapps\\Blog&quot; debug=&quot;0&quot; reloadable=&quot;true&quot; /&gt;&nbsp;&nbsp;&nbsp;</p><p style=\"margin: 0in; white-space: normal; font-family: Calibri; font-size: 11pt;\">&nbsp;</p><table cellpadding=\"0\" cellspacing=\"0\" valign=\"top\" title=\"\" summary=\"\"><tbody><tr class=\"firstRow\"><td width=\"0\" style=\"padding: 2pt 3pt; border-width: 1pt; border-color: rgb(163, 163, 163); vertical-align: top; background-color: rgb(247, 247, 249);\"><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">1</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">2</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">3</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">4</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">5</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">6</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">7</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">8</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">9</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">10</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">11</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">12</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">13</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">14</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">15</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">16</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt; color: rgb(143, 143, 143); text-align: right;\">17</p></td><td width=\"6\" style=\"padding: 2pt 3pt; border-width: 1pt; border-color: rgb(163, 163, 163); vertical-align: top; background-color: rgb(245, 245, 245);\"><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&lt;<span style=\"font-weight: bold; color: rgb(255, 120, 0);\">Host</span>&nbsp;<span style=\"color: gray;\">name</span>=<span style=\"color: blue;\">&quot;localhost&quot;</span>&nbsp;&nbsp;<span style=\"color: gray;\">appBase</span>=<span style=\"color: blue;\">&quot;webapps&quot;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: gray;\">unpackWARs</span>=<span style=\"color: blue;\">&quot;true&quot;</span>&nbsp;<span style=\"color: gray;\">autoDeploy</span>=<span style=\"color: blue;\">&quot;true&quot;</span>&gt;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">&lt;!--&nbsp;SingleSignOn&nbsp;valve,&nbsp;share&nbsp;authentication&nbsp;between&nbsp;web&nbsp;applications</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">Documentation&nbsp;at:&nbsp;/docs/config/valve.html&nbsp;--&gt;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">&lt;!--</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">&lt;Valve&nbsp;className=&quot;org.apache.catalina.authenticator.SingleSignOn&quot;&nbsp;/&gt;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">--&gt;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span style=\"font-weight: bold;\">Context</span>&nbsp;<span style=\"color: gray;\">path</span>=<span style=\"color: blue;\">&quot;&quot;</span>&nbsp;<span style=\"color: gray;\">docBase</span>=<span style=\"color: blue;\">&quot;C:\\apache-tomcat-7.0.11-windows-x86\\apache-tomcat-7.0.11\\webapps\\BaiduYun&quot;</span>&nbsp;<span style=\"color: gray;\">debug</span>=<span style=\"color: blue;\">&quot;0&quot;</span>&nbsp;<span style=\"color: gray;\">reloadable</span>=<span style=\"color: blue;\">&quot;true&quot;</span>&nbsp;/&gt;&nbsp;&nbsp;&nbsp;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">&lt;!--&nbsp;Access&nbsp;log&nbsp;processes&nbsp;all&nbsp;example.</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">Documentation&nbsp;at:&nbsp;/docs/config/valve.html</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(0, 130, 0);\">Note:&nbsp;The&nbsp;pattern&nbsp;used&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;using&nbsp;pattern=&quot;common&quot;&nbsp;--&gt;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span style=\"font-weight: bold;\">Valve</span>&nbsp;<span style=\"color: gray;\">className</span>=<span style=\"color: blue;\">&quot;org.apache.catalina.valves.AccessLogValve&quot;</span>&nbsp;<span style=\"color: gray;\">directory</span>=<span style=\"color: blue;\">&quot;logs&quot;</span>&nbsp;&nbsp;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: gray;\">prefix</span>=<span style=\"color: blue;\">&quot;localhost_access_log.&quot;</span>&nbsp;<span style=\"color: gray;\">suffix</span>=<span style=\"color: blue;\">&quot;.txt&quot;</span></p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: gray;\">pattern</span>=<span style=\"color: blue;\">&quot;%h&nbsp;%l&nbsp;%u&nbsp;%t&nbsp;&amp;quot;%r&amp;quot;&nbsp;%s&nbsp;%b&quot;</span>&nbsp;<span style=\"color: gray;\">resolveHosts</span>=<span style=\"color: blue;\">&quot;false&quot;</span>/&gt;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;</p><p style=\"margin: 0in; font-family: Calibri; font-size: 9.75pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span style=\"font-weight: bold;\">Host</span>&gt;</p></td></tr></tbody></table><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">这里的docBase要给成你的项目所在你服务器的本机的绝对路径；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">其他不用变；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: Calibri; font-size: 11pt;\">&nbsp;</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">项目数据库脚本的话自己导入下即可；这样就完整了项目部署；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">我们可以直接通过外网IP直接访问项目；</p><p style=\"margin-top: 0pt; margin-bottom: 7pt; white-space: normal; font-family: &#39;Helvetica Neue&#39;; font-size: 10.5pt; color: rgb(51, 51, 51);\">域名解析下服务器外网IP。我们就可以通过域名访问了；</p><p><br/></p>', '3', '发布 tomcat');

-- ----------------------------
-- Table structure for t_blogger
-- ----------------------------
DROP TABLE IF EXISTS `t_blogger`;
CREATE TABLE `t_blogger` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `userName` varchar(50) DEFAULT NULL,
  `password` varchar(100) DEFAULT NULL,
  `profile` text,
  `nickName` varchar(50) DEFAULT NULL,
  `sign` varchar(100) DEFAULT NULL,
  `imageName` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of t_blogger
-- ----------------------------
INSERT INTO `t_blogger` VALUES ('1', 'nikemai', 'fb1ba4f86926b4164638413c40a20561', '<p><img src=\"/static/userImages/20160721/1469078913325072080.jpg\" title=\"1469078913325072080.jpg\" alt=\"IMG_0018.jpg\" width=\"377\" height=\"371\" style=\"width: 377px; height: 371px;\"/></p>', '系统管理员', '知识改变命运，技术改变世界', '20160721012850.JPG');
INSERT INTO `t_blogger` VALUES ('2', 'admin', 'fb1ba4f86926b4164638413c40a20561', '<p><img src=\"/static/userImages/20160721/1469078884384048716.jpg\" alt=\"1469078884384048716.jpg\"/>哲一<img width=\"530\" height=\"340\" src=\"http://api.map.baidu.com/staticimage?center=116.404,39.915&zoom=10&width=530&height=340&markers=116.404,39.915\"/><img src=\"/static/userImages/20160721/1469078913325072080.jpg\" title=\"1469078913325072080.jpg\" alt=\"IMG_0018.jpg\" width=\"371\" height=\"430\" style=\"width: 371px; height: 430px;\"/></p>', 'admin', '系统管理员', '20160721012850.JPG');

-- ----------------------------
-- Table structure for t_blogtype
-- ----------------------------
DROP TABLE IF EXISTS `t_blogtype`;
CREATE TABLE `t_blogtype` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `typeName` varchar(30) DEFAULT NULL,
  `orderNo` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of t_blogtype
-- ----------------------------
INSERT INTO `t_blogtype` VALUES ('1', 'Java核心基础', '1');
INSERT INTO `t_blogtype` VALUES ('2', 'Mysql', '2');
INSERT INTO `t_blogtype` VALUES ('3', 'Tomcat', '3');
INSERT INTO `t_blogtype` VALUES ('4', 'IT之路', '6');
INSERT INTO `t_blogtype` VALUES ('5', '随心生活', '7');
INSERT INTO `t_blogtype` VALUES ('7', 'shiro', '4');
INSERT INTO `t_blogtype` VALUES ('9', 'webservice', '5');
INSERT INTO `t_blogtype` VALUES ('10', 'jsoup', '8');
INSERT INTO `t_blogtype` VALUES ('13', '软件应用', '100');
INSERT INTO `t_blogtype` VALUES ('14', 'Activiti', '9');
INSERT INTO `t_blogtype` VALUES ('15', 'spring', '10');

-- ----------------------------
-- Table structure for t_comment
-- ----------------------------
DROP TABLE IF EXISTS `t_comment`;
CREATE TABLE `t_comment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `userIp` varchar(50) DEFAULT NULL,
  `blogId` int(11) DEFAULT NULL,
  `content` varchar(1000) DEFAULT NULL,
  `commentDate` datetime DEFAULT NULL,
  `state` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of t_comment
-- ----------------------------

-- ----------------------------
-- Table structure for t_link
-- ----------------------------
DROP TABLE IF EXISTS `t_link`;
CREATE TABLE `t_link` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `linkName` varchar(100) DEFAULT NULL,
  `linkUrl` varchar(200) DEFAULT NULL,
  `orderNo` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of t_link
-- ----------------------------
INSERT INTO `t_link` VALUES ('1', 'Java知识分享网2', 'http://www.java1234.com/', '1');
INSERT INTO `t_link` VALUES ('2', '百度云搜索引擎', 'http://pan.java1234.com/', '2');
INSERT INTO `t_link` VALUES ('3', '小图标下载2', 'http://www.easyicon.net/', '3');
INSERT INTO `t_link` VALUES ('4', '免费logo在线制作', 'http://www.uugai.com/', '5');
INSERT INTO `t_link` VALUES ('5', 'Java贴吧', 'http://tieba.baidu.com/f?kw=java', '4');
